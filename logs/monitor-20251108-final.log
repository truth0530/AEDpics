
> monitor:inspection-system
> npx tsx scripts/monitor-inspection-system.ts

[dotenv@17.2.2] injecting env (0) from .env.local -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

[36m========================================[0m
[36m     점검 시스템 모니터링 보고서[0m
[36m     2025. 11. 8. 오후 3:20:43[0m
[36m========================================[0m

[34m📊 시스템 통계[0m
[37m----------------------------------------[0m
  전체 사용자: 46명
  활성 사용자: 45명
  임시점검원: 8명
  AED 장비: 81,464대
  전체 할당: 146건
  대기중 할당: 28건
  완료된 점검: 34건

[34m👤 임시점검원 상태 점검[0m
[37m----------------------------------------[0m
  ⚠️ [33m안은규(경산보건소) (mentalchange@naver.com): 할당된 장비 없음[0m
  ⚠️ [33m이광성중구 (shout530@naver.com): 할당된 장비 없음[0m
  ⚠️ [33m김시하 (aeri6@naver.com): 할당된 장비 없음[0m
  ⚠️ [33m이경진(네이버) (vkarmav@naver.com): 할당된 장비 없음[0m
  ⚠️ [33m유미경 (db931210@gmail.com): 할당된 장비 없음[0m
  ⚠️ [33m반서윤 (nmcxom@gmail.com): 할당된 장비 없음[0m
  ⚠️ [33m이광성중구점검2 (truth0530@kakao.com): 할당된 장비 없음[0m
  ⚠️ [33m김강수 (fall0788@naver.com): 할당된 장비 없음[0m

[34m👥 팀 멤버 상태 점검[0m
[37m----------------------------------------[0m

[34m📦 레거시 데이터 점검[0m
[37m----------------------------------------[0m
  ⚠️ [33m최근 3개월 점검 중 7건이 assignment 테이블에 없습니다[0m

[34m🗺️ 지역 권한 일관성 점검[0m
[37m----------------------------------------[0m

[34m⚠️ 최근 문제 패턴[0m
[37m----------------------------------------[0m
  ⚠️ [33m최근 24시간 내 1건의 중복 할당 발생[0m

[34m📋 문제점 요약 및 권고사항[0m
[37m========================================[0m

[31m🚨 치명적 문제 (1건)[0m
  • [임시점검원] 8명의 임시점검원이 장비를 할당받지 못했습니다
    → 해결: [36mnpm run emergency:assign-inspectors[0m

[33m⚠️ 경고 사항 (2건)[0m
  • [데이터 일관성] 7건의 점검이 assignment와 매칭되지 않습니다
    → 권장: [36mnpm run migrate:legacy-inspections[0m
  • [중복 데이터] 최근 24시간 내 1건의 중복 할당이 발생했습니다
    → 권장: [36m409 에러 처리 로직 점검 필요[0m

[34m🛠️ 사용 가능한 복구 명령어[0m
[37m----------------------------------------[0m
  • npm run emergency:assign-inspectors  - 임시점검원 긴급 장비 할당
  • npm run sync:team-members            - 팀 멤버 동기화
  • npm run migrate:legacy-inspections   - 레거시 점검 데이터 마이그레이션
  • npm run normalize:region-codes       - 지역 코드 정규화
  • npm run monitor:inspection-system    - 이 모니터링 보고서 재실행

[36m========================================[0m
[36m          모니터링 완료[0m
[36m========================================[0m

