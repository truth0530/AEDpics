<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AED ìŠ¤ë§ˆíŠ¸ ì ê²€ ì‹œìŠ¤í…œ - íŠœí† ë¦¬ì–¼</title>
    <!-- ì¹´ì¹´ì˜¤ë§µ API -->
    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=6ed19a9804e3b0978db781ba6082d1f7&autoload=false"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            min-height: 100vh;
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ */
        .header {
            background: #111111;
            border-bottom: 1px solid #333;
            padding: 0 20px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 20px;
            font-weight: 700;
            color: #10b981;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-name {
            color: #888;
            font-size: 14px;
        }

        .btn-logout {
            background: transparent;
            border: 1px solid #666;
            color: #888;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .btn-logout:hover {
            border-color: #10b981;
            color: #10b981;
        }

        /* ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ */
        .sidebar {
            position: fixed;
            left: 0;
            top: 60px;
            bottom: 0;
            width: 250px;
            background: #111111;
            border-right: 1px solid #333;
            padding: 20px 0;
            overflow-y: auto;
        }

        .menu-item {
            padding: 12px 20px;
            color: #888;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .menu-item:hover {
            background: #1a1a1a;
            color: #ffffff;
        }

        .menu-item.active {
            background: #1a1a1a;
            color: #10b981;
            border-left: 3px solid #10b981;
        }

        .menu-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */
        .main-content {
            margin-left: 250px;
            margin-top: 60px;
            padding: 30px;
            min-height: calc(100vh - 60px);
        }

        /* í˜ì´ì§€ ì„¹ì…˜ */
        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* ëª¨ë°”ì¼ ë©”ë‰´ ë²„íŠ¼ */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 1100;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
        }

        /* ë¹ ë¥¸ ì•¡ì…˜ ë°” */
        .quick-actions {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 30px;
            padding: 10px 20px;
            display: flex;
            gap: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            z-index: 900;
        }

        .quick-action-btn {
            background: transparent;
            border: none;
            color: #888;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .quick-action-btn:hover {
            background: #333;
            color: #10b981;
        }

        /* ì•Œë¦¼ ì„¼í„° */
        .notification-center {
            position: fixed;
            top: 70px;
            right: 20px;
            width: 300px;
            max-height: 400px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 12px;
            overflow: hidden;
            display: none;
            z-index: 999;
        }

        .notification-header {
            padding: 15px;
            background: #111;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notification-list {
            max-height: 350px;
            overflow-y: auto;
        }

        .notification-item {
            padding: 15px;
            border-bottom: 1px solid #222;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .notification-item:hover {
            background: #222;
        }

        .notification-time {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        /* ëŒ€ì‹œë³´ë“œ ìŠ¤íƒ€ì¼ */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        .stat-label {
            color: #888;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #ffffff;
        }

        .stat-card.danger .stat-value {
            color: #ff4444;
        }

        .stat-card.warning .stat-value {
            color: #ffaa00;
        }

        .stat-card.success .stat-value {
            color: #44ff44;
        }

        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .data-table {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 12px;
            overflow: hidden;
        }

        .table-header {
            padding: 20px;
            border-bottom: 1px solid #333;
        }

        .table-title {
            font-size: 18px;
            font-weight: 600;
            color: #ffffff;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: #111111;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: #888;
            font-size: 14px;
        }

        td {
            padding: 12px;
            border-top: 1px solid #222;
            color: #e0e0e0;
            font-size: 14px;
        }

        tr:hover {
            background: #222;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-primary {
            background: #10b981;
            color: white;
        }

        .btn-primary:hover {
            background: #357abd;
            transform: translateY(-1px);
        }

        .btn-success {
            background: #44ff44;
            color: #000;
        }

        .btn-danger {
            background: #ff4444;
            color: white;
        }

        .btn-secondary {
            background: #333;
            color: #888;
            border: 1px solid #555;
        }

        /* ë°°ì§€ ìŠ¤íƒ€ì¼ */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge-danger {
            background: rgba(255,68,68,0.2);
            color: #ff4444;
        }

        .badge-warning {
            background: rgba(255,170,0,0.2);
            color: #ffaa00;
        }

        .badge-success {
            background: rgba(68,255,68,0.2);
            color: #44ff44;
        }

        .badge-info {
            background: rgba(74,144,226,0.2);
            color: #10b981;
        }

        /* ê²€ìƒ‰ë°” ìŠ¤íƒ€ì¼ */
        .search-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .search-input {
            flex: 1;
            background: #1a1a1a;
            border: 1px solid #333;
            color: #ffffff;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
        }

        .search-input:focus {
            outline: none;
            border-color: #10b981;
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        /* íŠœí† ë¦¬ì–¼ ì˜¤ë²„ë ˆì´ */
        .tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .tutorial-modal {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 12px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
        }

        .tutorial-title {
            font-size: 24px;
            font-weight: 700;
            color: #10b981;
            margin-bottom: 20px;
        }

        .tutorial-content {
            color: #e0e0e0;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        /* ì§„í–‰ í‘œì‹œê¸° */
        .progress-bar {
            background: #333;
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            background: #10b981;
            height: 100%;
            transition: width 0.3s ease;
        }

        /* í”Œë¡œíŒ… ì•¡ì…˜ ë²„íŠ¼ */
        .fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: #10b981;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(74,144,226,0.4);
            transition: all 0.3s ease;
            font-size: 24px;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(74,144,226,0.6);
        }
        
        /* ë§µ í•€ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }
        
        /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #444;
        }
    </style>
</head>
<body>
    <!-- í—¤ë” -->
    <div class="header">
        <div class="logo">AED ìŠ¤ë§ˆíŠ¸ ì ê²€ ì‹œìŠ¤í…œ</div>
        <div class="user-info">
            <select id="userRole" onchange="changeUserRole()" style="background: #222; color: #888; border: 1px solid #666; padding: 6px 12px; border-radius: 6px; margin-right: 10px;">
                <option value="local">í™ê¸¸ë™ (ë³´ê±´ì†Œ ë‹´ë‹¹ì)</option>
                <option value="regional">ê¹€ê´€ë¦¬ (ì„œìš¸ì‹œ ë‹´ë‹¹ì)</option>
                <option value="ministry">ì´ê°ë… (ë³µì§€ë¶€ ë‹´ë‹¹ì)</option>
                <option value="emergency">ë°•ì„¼í„° (ì¤‘ì•™ì‘ê¸‰ì˜ë£Œì„¼í„°)</option>
            </select>
            <button class="btn-logout" onclick="showAlert('ë¡œê·¸ì•„ì›ƒ')">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </div>

    <!-- ì‚¬ì´ë“œë°” -->
    <div class="sidebar" id="sidebar">
        <div class="menu-item active" onclick="showPage('inspection')">
            <span class="menu-icon">âœ“</span>
            <span>ì ê²€ ê´€ë¦¬</span>
        </div>
        <div class="menu-item" onclick="showPage('dashboard')">
            <span class="menu-icon">â–¡</span>
            <span>ëŒ€ì‹œë³´ë“œ</span>
        </div>
        <div class="menu-item" onclick="showPage('devices')">
            <span class="menu-icon">â—†</span>
            <span>ì¥ë¹„ ê´€ë¦¬</span>
        </div>
        <div class="menu-item" onclick="showPage('priority')">
            <span class="menu-icon">!</span>
            <span>ìš°ì„ ìˆœìœ„ ê´€ë¦¬</span>
        </div>
        <div class="menu-item" onclick="showPage('team')">
            <span class="menu-icon">â–¤</span>
            <span>íŒ€ í˜‘ì—…</span>
        </div>
        <div class="menu-item" onclick="showPage('reports')">
            <span class="menu-icon">â–¥</span>
            <span>ë³´ê³ ì„œ</span>
        </div>
        <div class="menu-item" onclick="showPage('settings')">
            <span class="menu-icon">â˜°</span>
            <span>ì„¤ì •</span>
        </div>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="main-content">
        <!-- ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ -->
        <div id="dashboard" class="page-section">
            <h1 style="margin-bottom: 30px;">ëŒ€ì‹œë³´ë“œ</h1>
            
            <!-- ê¶Œí•œë³„ í•„í„° ì˜ì—­ -->
            <div id="dashboardFilter" style="margin-bottom: 20px; padding: 15px; background: #1a1a1a; border-radius: 8px; display: none;">
                <div style="display: flex; gap: 15px; align-items: center;">
                    <label style="color: #888;">ì§€ì—­ ì„ íƒ:</label>
                    <select id="regionFilter" style="background: #222; color: #fff; border: 1px solid #666; padding: 8px 12px; border-radius: 6px;" onchange="updateDashboard()">
                        <option value="all">ì „ì²´</option>
                        <option value="seoul">ì„œìš¸íŠ¹ë³„ì‹œ</option>
                        <option value="busan">ë¶€ì‚°ê´‘ì—­ì‹œ</option>
                        <option value="daegu">ëŒ€êµ¬ê´‘ì—­ì‹œ</option>
                        <option value="incheon">ì¸ì²œê´‘ì—­ì‹œ</option>
                        <option value="gwangju">ê´‘ì£¼ê´‘ì—­ì‹œ</option>
                        <option value="daejeon">ëŒ€ì „ê´‘ì—­ì‹œ</option>
                        <option value="ulsan">ìš¸ì‚°ê´‘ì—­ì‹œ</option>
                        <option value="sejong">ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ</option>
                        <option value="gyeonggi">ê²½ê¸°ë„</option>
                        <option value="gangwon">ê°•ì›ë„</option>
                        <option value="chungbuk">ì¶©ì²­ë¶ë„</option>
                        <option value="chungnam">ì¶©ì²­ë‚¨ë„</option>
                        <option value="jeonbuk">ì „ë¼ë¶ë„</option>
                        <option value="jeonnam">ì „ë¼ë‚¨ë„</option>
                        <option value="gyeongbuk">ê²½ìƒë¶ë„</option>
                        <option value="gyeongnam">ê²½ìƒë‚¨ë„</option>
                        <option value="jeju">ì œì£¼íŠ¹ë³„ìì¹˜ë„</option>
                    </select>
                    <select id="districtFilter" style="background: #222; color: #fff; border: 1px solid #666; padding: 8px 12px; border-radius: 6px; display: none;" onchange="updateDashboard()">
                        <option value="all">ì „ì²´ êµ¬/êµ°</option>
                    </select>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="stat-card">
                    <div class="stat-label">ê´€ë¦¬ ì¤‘ì¸ ì „ì²´ AED</div>
                    <div class="stat-value" id="totalAED">327</div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-label">ê¸´ê¸‰ ì ê²€ í•„ìš” (ë°°í„°ë¦¬/íŒ¨ë“œ ë§Œë£Œ)</div>
                    <div class="stat-value">42</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-label">30ì¼ ë‚´ ë§Œë£Œ ì˜ˆì •</div>
                    <div class="stat-value">18</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-label">ì˜¤ëŠ˜ ì ê²€ ì™„ë£Œ</div>
                    <div class="stat-value">12</div>
                </div>
            </div>

            <div class="data-table">
                <div class="table-header">
                    <h2 class="table-title">ê¸´ê¸‰ ì ê²€ í•„ìš” ëª©ë¡</h2>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>ì„¤ì¹˜ê¸°ê´€ëª…</th>
                            <th>ì¥ë¹„ì—°ë²ˆ</th>
                            <th>ìƒíƒœ</th>
                            <th>ë°°í„°ë¦¬ìœ íš¨ê¸°ê°„</th>
                            <th>íŒ¨ë“œìœ íš¨ê¸°ê°„</th>
                            <th>ì¥ë¹„ìœ íš¨ê¸°ê°„</th>
                            <th>ìµœê·¼ì ê²€ì¼ì</th>
                            <th>ì‘ì—…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ì„œìš¸ì‹œì²­</td>
                            <td>13-0000042</td>
                            <td><span class="badge badge-danger">ê¸´ê¸‰</span></td>
                            <td>2024-12-31</td>
                            <td>2025-03-15</td>
                            <td>2032-01-15</td>
                            <td>2024-12-01</td>
                            <td>
                                <button class="btn btn-primary" onclick="showInspection()" style="margin-right: 5px;">ì ê²€</button>
                                <button class="btn btn-secondary" onclick="startNavigation('ì„œìš¸ì‹œì²­', '37.5662952', '126.9779451')" style="font-size: 12px;">ê¸¸ì•ˆë‚´</button>
                            </td>
                        </tr>
                        <tr>
                            <td>ê°•ë‚¨êµ¬ì²­</td>
                            <td>13-0000156</td>
                            <td><span class="badge badge-warning">ì£¼ì˜</span></td>
                            <td>2025-02-20</td>
                            <td>2025-01-15</td>
                            <td>2033-05-20</td>
                            <td>2024-12-15</td>
                            <td>
                                <button class="btn btn-primary" onclick="showInspection()" style="margin-right: 5px;">ì ê²€</button>
                                <button class="btn btn-secondary" onclick="startNavigation('ê°•ë‚¨êµ¬ì²­', '37.5172363', '127.0473248')" style="font-size: 12px;">ê¸¸ì•ˆë‚´</button>
                            </td>
                        </tr>
                        <tr>
                            <td>ì„œì´ˆêµ¬ ë³´ê±´ì†Œ</td>
                            <td>13-0000234</td>
                            <td><span class="badge badge-warning">ì£¼ì˜</span></td>
                            <td>2025-03-10</td>
                            <td>2025-01-20</td>
                            <td>2034-02-10</td>
                            <td>2024-12-20</td>
                            <td>
                                <button class="btn btn-primary" onclick="showInspection()" style="margin-right: 5px;">ì ê²€</button>
                                <button class="btn btn-secondary" onclick="startNavigation('ì„œì´ˆêµ¬ ë³´ê±´ì†Œ', '37.4837121', '127.0324112')" style="font-size: 12px;">ê¸¸ì•ˆë‚´</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ì ê²€ ê´€ë¦¬ í˜ì´ì§€ -->
        <div id="inspection" class="page-section active">
            <h1 style="margin-bottom: 20px;">ì ê²€ ê´€ë¦¬</h1>
            
            <!-- ìŠ¤ì¼€ì¤„ ìƒíƒœ í‘œì‹œ -->
            <div id="scheduleStatus" style="background: #1a3a52; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #2a4a62;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <span style="font-size: 24px;">ğŸ“…</span>
                    <div>
                        <h3 style="margin: 0; color: #10b981;">ì˜¤ëŠ˜ì˜ ì ê²€ ìŠ¤ì¼€ì¤„ (12ê±´)</h3>
                        <p style="margin: 5px 0 0 0; color: #888; font-size: 14px;">ì„¤ì •ëœ ìŠ¤ì¼€ì¤„ì— ë”°ë¥¸ ì ê²€ ëŒ€ìƒ</p>
                    </div>
                </div>
            </div>

            <!-- ê²€ìƒ‰ ëª¨ë“œ íƒ­ -->
            <div style="display: flex; gap: 10px; margin-bottom: 20px; background: #1a1a1a; padding: 15px; border-radius: 8px;">
                <button class="btn btn-primary" onclick="showSearchMode('priority')" id="searchPriority">ìš°ì„ ìˆœìœ„</button>
                <button class="btn btn-secondary" onclick="showSearchMode('name')" id="searchName">ê¸°ê´€ëª…</button>
                <button class="btn btn-secondary" onclick="showSearchMode('serial')" id="searchSerial">ì¥ë¹„ì—°ë²ˆ</button>
                <button class="btn btn-secondary" onclick="showSearchMode('gps')" id="searchGPS">ğŸ“ ê°€ê¹Œìš´ ì¥ë¹„</button>
            </div>

            <!-- ê²€ìƒ‰ ì…ë ¥ ì˜ì—­ -->
            <div id="searchInputArea" style="margin-bottom: 20px; display: none;">
                <div class="search-bar">
                    <input type="text" id="searchInput" class="search-input" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">
                    <button class="btn btn-primary" onclick="performSearch()">ê²€ìƒ‰</button>
                </div>
            </div>

            <!-- í•„í„° ì˜µì…˜ -->
            <div style="display: flex; gap: 15px; margin-bottom: 20px; padding: 10px; background: #1a1a1a; border-radius: 8px;">
                <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                    <input type="checkbox" checked onchange="updateInspectionList()"> 
                    <span style="color: #888;">ë¯¸ì ê²€ ì¥ë¹„ë§Œ</span>
                </label>
                <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                    <input type="checkbox" onchange="toggleScheduleMode()">
                    <span style="color: #888;">ì¶”ì²œ ëŒ€ìƒ í¬í•¨</span>
                </label>
            </div>

            <!-- ì ê²€ ëŒ€ìƒ ë¦¬ìŠ¤íŠ¸ -->
            <div class="data-table">
                <div class="table-header">
                    <h2 class="table-title">ì ê²€ ëŒ€ìƒ ëª©ë¡</h2>
                </div>
                <div id="inspectionList" style="display: flex; flex-direction: column; gap: 15px; padding: 20px;">
                    <!-- ìŠ¤ì¼€ì¤„ëœ ì ê²€ í•­ëª© 1 -->
                    <div class="inspection-card" style="background: #1a1a1a; padding: 20px; border-radius: 8px; border-left: 4px solid #e74c3c;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <div>
                                <span style="background: #e74c3c; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px;">09:00</span>
                                <h3 style="margin: 10px 0 5px 0; color: #fff;">ì„œìš¸ì‹œì²­ ë³¸ê´€</h3>
                                <p style="color: #888; font-size: 14px;">ì¥ë¹„ì—°ë²ˆ: 13-0000042</p>
                            </div>
                            <div style="text-align: right;">
                                <span class="badge badge-danger">ë°°í„°ë¦¬ D-5</span>
                            </div>
                        </div>
                        <div style="color: #666; font-size: 14px; margin-bottom: 15px;">
                            ì˜ˆì • ì ê²€: ì •ê¸°ì ê²€, ë°°í„°ë¦¬ í™•ì¸
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary" onclick="startInspection('13-0000042')" style="flex: 1;">ì ê²€ ì‹œì‘</button>
                            <button class="btn btn-secondary" onclick="startNavigation('ì„œìš¸ì‹œì²­', '37.5662952', '126.9779451')">ê¸¸ì•ˆë‚´</button>
                        </div>
                    </div>

                    <!-- ìŠ¤ì¼€ì¤„ëœ ì ê²€ í•­ëª© 2 -->
                    <div class="inspection-card" style="background: #1a1a1a; padding: 20px; border-radius: 8px; border-left: 4px solid #f39c12;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <div>
                                <span style="background: #f39c12; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px;">10:30</span>
                                <h3 style="margin: 10px 0 5px 0; color: #fff;">ê°•ë‚¨êµ¬ì²­</h3>
                                <p style="color: #888; font-size: 14px;">ì¥ë¹„ì—°ë²ˆ: 13-0000156</p>
                            </div>
                            <div style="text-align: right;">
                                <span class="badge badge-warning">íŒ¨ë“œ D-25</span>
                            </div>
                        </div>
                        <div style="color: #666; font-size: 14px; margin-bottom: 15px;">
                            ì˜ˆì • ì ê²€: íŒ¨ë“œ êµì²´ í™•ì¸
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary" onclick="startInspection('13-0000156')" style="flex: 1;">ì ê²€ ì‹œì‘</button>
                            <button class="btn btn-secondary" onclick="startNavigation('ê°•ë‚¨êµ¬ì²­', '37.5172363', '127.0473248')">ê¸¸ì•ˆë‚´</button>
                        </div>
                    </div>

                    <!-- ìŠ¤ì¼€ì¤„ëœ ì ê²€ í•­ëª© 3 -->
                    <div class="inspection-card" style="background: #1a1a1a; padding: 20px; border-radius: 8px; border-left: 4px solid #3498db;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <div>
                                <span style="background: #3498db; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px;">14:00</span>
                                <h3 style="margin: 10px 0 5px 0; color: #fff;">ì„œì´ˆêµ¬ ë³´ê±´ì†Œ</h3>
                                <p style="color: #888; font-size: 14px;">ì¥ë¹„ì—°ë²ˆ: 13-0000234</p>
                            </div>
                            <div style="text-align: right;">
                                <span class="badge badge-info">ì •ê¸°ì ê²€</span>
                            </div>
                        </div>
                        <div style="color: #666; font-size: 14px; margin-bottom: 15px;">
                            ì˜ˆì • ì ê²€: ì›”ê°„ ì •ê¸°ì ê²€
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary" onclick="startInspection('13-0000234')" style="flex: 1;">ì ê²€ ì‹œì‘</button>
                            <button class="btn btn-secondary" onclick="startNavigation('ì„œì´ˆêµ¬ ë³´ê±´ì†Œ', '37.4837121', '127.0324112')">ê¸¸ì•ˆë‚´</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ê¸°ì¡´ ì ê²€ í…Œì´ë¸” ì‚­ì œí•˜ê³  ìƒˆë¡œìš´ í˜•ì‹ìœ¼ë¡œ -->
        <div id="inspectionHistory" class="page-section" style="display: none;">
            <h1 style="margin-bottom: 30px;">ì ê²€ ì´ë ¥</h1>
            <div class="data-table">
                <div class="table-header">
                    <h2 class="table-title">ìµœê·¼ ì ê²€ ì´ë ¥</h2>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>ì ê²€ì¼</th>
                            <th>ì¥ë¹„ì—°ë²ˆ</th>
                            <th>ì„¤ì¹˜ê¸°ê´€ëª…</th>
                            <th>ì ê²€ì</th>
                            <th>ë°°í„°ë¦¬ìƒíƒœ</th>
                            <th>íŒ¨ë“œìƒíƒœ</th>
                            <th>ì¥ë¹„ìƒíƒœ</th>
                            <th>ìƒì„¸</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2025-01-07 14:30</td>
                            <td>13-0000089</td>
                            <td>ì¢…ë¡œêµ¬ì²­</td>
                            <td>ê¹€ì ê²€</td>
                            <td><span class="badge badge-success">ì •ìƒ</span></td>
                            <td><span class="badge badge-success">ì •ìƒ</span></td>
                            <td><span class="badge badge-success">ì •ìƒ</span></td>
                            <td><button class="btn btn-secondary">ë³´ê¸°</button></td>
                        </tr>
                        <tr>
                            <td>2025-01-07 11:20</td>
                            <td>13-0000145</td>
                            <td>ì¤‘êµ¬ ë³´ê±´ì†Œ</td>
                            <td>ì´ì ê²€</td>
                            <td><span class="badge badge-warning">êµì²´ì„ë°•</span></td>
                            <td><span class="badge badge-success">ì •ìƒ</span></td>
                            <td><span class="badge badge-success">ì •ìƒ</span></td>
                            <td><button class="btn btn-secondary">ë³´ê¸°</button></td>
                        </tr>
                        <tr>
                            <td>2025-01-06 16:45</td>
                            <td>13-0000201</td>
                            <td>ìš©ì‚°êµ¬ì²­</td>
                            <td>ë°•ì ê²€</td>
                            <td><span class="badge badge-success">ì •ìƒ</span></td>
                            <td><span class="badge badge-success">ì •ìƒ</span></td>
                            <td><span class="badge badge-success">ì •ìƒ</span></td>
                            <td><button class="btn btn-secondary">ë³´ê¸°</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ì¥ë¹„ ê´€ë¦¬ í˜ì´ì§€ -->
        <div id="devices" class="page-section">
            <h1 style="margin-bottom: 30px;">ì¥ë¹„ ê´€ë¦¬</h1>
            
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="ì¥ì¹˜ ê²€ìƒ‰...">
                <select class="search-input" style="width: 200px;">
                    <option>ì „ì²´ ìƒíƒœ</option>
                    <option>ì •ìƒ</option>
                    <option>ì ê²€ í•„ìš”</option>
                    <option>ë§Œë£Œ</option>
                </select>
                <button class="btn btn-primary">í•„í„° ì ìš©</button>
            </div>

            <div class="dashboard-grid">
                <div class="stat-card">
                    <div class="stat-label">ì •ìƒ ì‘ë™</div>
                    <div class="stat-value" style="color: #44ff44;">267</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ì ê²€ í•„ìš”</div>
                    <div class="stat-value" style="color: #ffaa00;">42</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">êµì²´ í•„ìš”</div>
                    <div class="stat-value" style="color: #ff4444;">18</div>
                </div>
            </div>

            <div class="data-table">
                <div class="table-header">
                    <h2 class="table-title">ì „ì²´ ì¥ë¹„ ëª©ë¡</h2>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>ì¥ë¹„ì—°ë²ˆ</th>
                            <th>ì„¤ì¹˜ê¸°ê´€ëª…</th>
                            <th>ëª¨ë¸ëª…</th>
                            <th>ì œì¡°ì¼</th>
                            <th>ë°°í„°ë¦¬ìœ íš¨ê¸°ê°„</th>
                            <th>íŒ¨ë“œìœ íš¨ê¸°ê°„</th>
                            <th>ì¥ë¹„ìœ íš¨ê¸°ê°„</th>
                            <th>ìµœê·¼ì ê²€ì¼ì</th>
                            <th>ìƒíƒœ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>13-0000001</td>
                            <td>ì„œìš¸ì‹œì²­</td>
                            <td>HeartStart FRx</td>
                            <td>2024-01-15</td>
                            <td>2026-01-15</td>
                            <td>2025-07-15</td>
                            <td>2034-01-15</td>
                            <td>2025-01-05</td>
                            <td><span class="badge badge-success">ì •ìƒ</span></td>
                        </tr>
                        <tr>
                            <td>13-0000002</td>
                            <td>ê°•ë‚¨êµ¬ì²­</td>
                            <td>ZOLL AED Plus</td>
                            <td>2024-02-20</td>
                            <td>2025-02-20</td>
                            <td>2025-01-30</td>
                            <td>2034-02-20</td>
                            <td>2024-12-28</td>
                            <td><span class="badge badge-warning">ì£¼ì˜</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ìš°ì„ ìˆœìœ„ ê´€ë¦¬ í˜ì´ì§€ -->
        <div id="priority" class="page-section">
            <h1 style="margin-bottom: 30px;">ìš°ì„ ìˆœìœ„ ê´€ë¦¬</h1>
            
            <div class="dashboard-grid">
                <div class="stat-card danger">
                    <div class="stat-label">ê¸´ê¸‰ (24ì‹œê°„ ë‚´)</div>
                    <div class="stat-value">8</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-label">ë†’ìŒ (3ì¼ ë‚´)</div>
                    <div class="stat-value">15</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ë³´í†µ (7ì¼ ë‚´)</div>
                    <div class="stat-value">32</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ë‚®ìŒ (30ì¼ ë‚´)</div>
                    <div class="stat-value">89</div>
                </div>
            </div>

            <div class="data-table">
                <div class="table-header">
                    <h2 class="table-title">ìš°ì„ ìˆœìœ„ë³„ ì ê²€ ëŒ€ìƒ</h2>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>ìš°ì„ ìˆœìœ„</th>
                            <th>ì¥ë¹„ì—°ë²ˆ</th>
                            <th>ì„¤ì¹˜ê¸°ê´€ëª…</th>
                            <th>ì‚¬ìœ </th>
                            <th>ë°°í„°ë¦¬ë§Œë£Œ</th>
                            <th>íŒ¨ë“œë§Œë£Œ</th>
                            <th>ìµœê·¼ì ê²€</th>
                            <th>ì²˜ë¦¬ê¸°í•œ</th>
                            <th>ë‹´ë‹¹ì</th>
                            <th>ì‘ì—…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background: rgba(255,68,68,0.1);">
                            <td><span class="badge badge-danger">ê¸´ê¸‰</span></td>
                            <td>13-0000042</td>
                            <td>ì„œìš¸ì‹œì²­</td>
                            <td>ë°°í„°ë¦¬ ë§Œë£Œ</td>
                            <td>2024-12-31</td>
                            <td>2025-03-15</td>
                            <td>2024-12-01</td>
                            <td>2025-01-08</td>
                            <td>
                                <select class="search-input" style="width: 100px; padding: 5px;" onchange="assignTeamMember(this, '13-0000042')">
                                    <option value="">ë¯¸ë°°ì •</option>
                                    <option value="ê¹€ì ê²€">ê¹€ì ê²€</option>
                                    <option value="ì´ì ê²€">ì´ì ê²€</option>
                                    <option value="ë°•ì ê²€">ë°•ì ê²€</option>
                                    <option value="ìµœì ê²€">ìµœì ê²€</option>
                                </select>
                            </td>
                            <td>
                                <button class="btn btn-primary" onclick="showInspection()" style="font-size: 12px; padding: 5px 10px;">ì ê²€</button>
                                <button class="btn btn-secondary" onclick="startNavigation('ì„œìš¸ì‹œì²­', '37.5662952', '126.9779451')" style="font-size: 12px; padding: 5px 10px;">ê¸¸ì•ˆë‚´</button>
                            </td>
                        </tr>
                        <tr style="background: rgba(255,68,68,0.1);">
                            <td><span class="badge badge-danger">ê¸´ê¸‰</span></td>
                            <td>13-0000156</td>
                            <td>ê°•ë‚¨êµ¬ì²­</td>
                            <td>íŒ¨ë“œ ë§Œë£Œ ì„ë°•</td>
                            <td>2025-02-20</td>
                            <td>2025-01-15</td>
                            <td>2024-12-15</td>
                            <td>2025-01-08</td>
                            <td>
                                <select class="search-input" style="width: 100px; padding: 5px;" onchange="assignTeamMember(this, '13-0000156')">
                                    <option value="ê¹€ì ê²€" selected>ê¹€ì ê²€</option>
                                    <option value="ì´ì ê²€">ì´ì ê²€</option>
                                    <option value="ë°•ì ê²€">ë°•ì ê²€</option>
                                    <option value="ìµœì ê²€">ìµœì ê²€</option>
                                    <option value="">ë¯¸ë°°ì •</option>
                                </select>
                            </td>
                            <td>
                                <button class="btn btn-primary" onclick="showInspection()" style="font-size: 12px; padding: 5px 10px;">ì ê²€</button>
                                <button class="btn btn-secondary" onclick="startNavigation('ê°•ë‚¨êµ¬ì²­', '37.5172363', '127.0473248')" style="font-size: 12px; padding: 5px 10px;">ê¸¸ì•ˆë‚´</button>
                            </td>
                        </tr>
                        <tr style="background: rgba(255,170,0,0.1);">
                            <td><span class="badge badge-warning">ë†’ìŒ</span></td>
                            <td>13-0000234</td>
                            <td>ì„œì´ˆêµ¬ ë³´ê±´ì†Œ</td>
                            <td>ì •ê¸°ì ê²€ ì§€ì—°</td>
                            <td>2025-03-10</td>
                            <td>2025-01-20</td>
                            <td>2024-11-20</td>
                            <td>2025-01-10</td>
                            <td>
                                <select class="search-input" style="width: 100px; padding: 5px;" onchange="assignTeamMember(this, '13-0000234')">
                                    <option value="ì´ì ê²€" selected>ì´ì ê²€</option>
                                    <option value="ê¹€ì ê²€">ê¹€ì ê²€</option>
                                    <option value="ë°•ì ê²€">ë°•ì ê²€</option>
                                    <option value="ìµœì ê²€">ìµœì ê²€</option>
                                    <option value="">ë¯¸ë°°ì •</option>
                                </select>
                            </td>
                            <td>
                                <button class="btn btn-primary" onclick="showInspection()" style="font-size: 12px; padding: 5px 10px;">ì ê²€</button>
                                <button class="btn btn-secondary" onclick="startNavigation('ì„œì´ˆêµ¬ ë³´ê±´ì†Œ', '37.4837121', '127.0324112')" style="font-size: 12px; padding: 5px 10px;">ê¸¸ì•ˆë‚´</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- íŒ€ í˜‘ì—… í˜ì´ì§€ -->
        <div id="team" class="page-section">
            <h1 style="margin-bottom: 30px;">íŒ€ í˜‘ì—…</h1>
            
            <div class="dashboard-grid">
                <div class="stat-card">
                    <div class="stat-label">í™œë™ ì¤‘ì¸ íŒ€ì›</div>
                    <div class="stat-value">12</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ì˜¤ëŠ˜ ì ê²€ ì™„ë£Œ</div>
                    <div class="stat-value">34</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">í‰ê·  ì²˜ë¦¬ ì‹œê°„</div>
                    <div class="stat-value">18ë¶„</div>
                </div>
            </div>

            <div class="data-table">
                <div class="table-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 class="table-title">íŒ€ì› í˜„í™©</h2>
                    <button class="btn btn-primary" onclick="showAddMemberModal()">íŒ€ì› ì¶”ê°€</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>ì´ë¦„</th>
                            <th>ì†Œì†</th>
                            <th>ì˜¤ëŠ˜ í• ë‹¹ëŸ‰</th>
                            <th>ì™„ë£Œ</th>
                            <th>ì§„í–‰ë¥ </th>
                            <th>ì‘ì—…</th>
                        </tr>
                    </thead>
                    <tbody id="teamMembersList">
                        <tr>
                            <td>ê¹€ì ê²€</td>
                            <td>ì¢…ë¡œêµ¬ ë³´ê±´ì†Œ</td>
                            <td>15</td>
                            <td>8</td>
                            <td><div style="background: #333; border-radius: 4px; overflow: hidden; height: 20px;"><div style="background: #10b981; height: 100%; width: 53%;"></div></div></td>
                            <td><button class="btn btn-secondary" onclick="showMemberDetails('ê¹€ì ê²€', 15, 8)">ìƒì„¸ë³´ê¸°</button></td>
                        </tr>
                        <tr>
                            <td>ì´ì ê²€</td>
                            <td>ì¤‘êµ¬ ë³´ê±´ì†Œ</td>
                            <td>12</td>
                            <td>6</td>
                            <td><div style="background: #333; border-radius: 4px; overflow: hidden; height: 20px;"><div style="background: #10b981; height: 100%; width: 50%;"></div></div></td>
                            <td><button class="btn btn-secondary" onclick="showMemberDetails('ì´ì ê²€', 12, 6)">ìƒì„¸ë³´ê¸°</button></td>
                        </tr>
                        <tr>
                            <td>ë°•ì ê²€</td>
                            <td>ìš©ì‚°êµ¬ ë³´ê±´ì†Œ</td>
                            <td>10</td>
                            <td>5</td>
                            <td><div style="background: #333; border-radius: 4px; overflow: hidden; height: 20px;"><div style="background: #10b981; height: 100%; width: 50%;"></div></div></td>
                            <td><button class="btn btn-secondary" onclick="showMemberDetails('ë°•ì ê²€', 10, 5)">ìƒì„¸ë³´ê¸°</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ë³´ê³ ì„œ í˜ì´ì§€ -->
        <div id="reports" class="page-section">
            <h1 style="margin-bottom: 30px;">ë³´ê³ ì„œ</h1>
            
            <div class="dashboard-grid">
                <div class="stat-card">
                    <div class="stat-label">ì›”ê°„ ì ê²€ë¥ </div>
                    <div class="stat-value">92%</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">í‰ê·  ì‘ë‹µì‹œê°„</div>
                    <div class="stat-value">4.2ì‹œê°„</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ì •ì‹œ ì ê²€ë¥ </div>
                    <div class="stat-value">87%</div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <button class="btn btn-primary" style="padding: 20px;">
                    ì›”ê°„ ë³´ê³ ì„œ ìƒì„±
                </button>
                <button class="btn btn-primary" style="padding: 20px;">
                    ë¶„ê¸°ë³„ ë³´ê³ ì„œ ìƒì„±
                </button>
                <button class="btn btn-primary" style="padding: 20px;">
                    ì—°ê°„ ë³´ê³ ì„œ ìƒì„±
                </button>
                <button class="btn btn-primary" style="padding: 20px;">
                    ë§ì¶¤ ë³´ê³ ì„œ ìƒì„±
                </button>
            </div>

            <div class="data-table" style="margin-top: 30px;">
                <div class="table-header">
                    <h2 class="table-title">ìµœê·¼ ìƒì„±ëœ ë³´ê³ ì„œ</h2>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>ë³´ê³ ì„œëª…</th>
                            <th>ê¸°ê°„</th>
                            <th>ìƒì„±ì¼</th>
                            <th>ìƒì„±ì</th>
                            <th>ë‹¤ìš´ë¡œë“œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2024ë…„ 12ì›” ì›”ê°„ ë³´ê³ ì„œ</td>
                            <td>2024.12.01 - 2024.12.31</td>
                            <td>2025.01.02</td>
                            <td>ê´€ë¦¬ì</td>
                            <td><button class="btn btn-secondary">PDF</button></td>
                        </tr>
                        <tr>
                            <td>2024ë…„ 4ë¶„ê¸° ë³´ê³ ì„œ</td>
                            <td>2024.10.01 - 2024.12.31</td>
                            <td>2025.01.05</td>
                            <td>ê´€ë¦¬ì</td>
                            <td><button class="btn btn-secondary">PDF</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ì„¤ì • í˜ì´ì§€ -->
        <div id="settings" class="page-section">
            <h1 style="margin-bottom: 30px;">ì„¤ì •</h1>
            
            <div style="display: grid; gap: 20px; max-width: 600px;">
                <div style="background: #1a1a1a; padding: 20px; border-radius: 12px; border: 1px solid #333;">
                    <h3 style="margin-bottom: 15px;">ì•Œë¦¼ ì„¤ì •</h3>
                    <div style="display: grid; gap: 10px;">
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" checked> ê¸´ê¸‰ ì ê²€ ì•Œë¦¼
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" checked> ë§Œë£Œ ì„ë°• ì•Œë¦¼
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox"> ì¼ì¼ ìš”ì•½ ë³´ê³ 
                        </label>
                    </div>
                </div>

                <div style="background: #1a1a1a; padding: 20px; border-radius: 12px; border: 1px solid #333;">
                    <h3 style="margin-bottom: 15px;">ê³„ì • ì •ë³´</h3>
                    <div style="display: grid; gap: 10px;">
                        <div>
                            <label style="color: #888; font-size: 14px;">ì´ë¦„</label>
                            <input type="text" class="search-input" value="í™ê¸¸ë™" style="width: 100%; margin-top: 5px;">
                        </div>
                        <div>
                            <label style="color: #888; font-size: 14px;">ì´ë©”ì¼</label>
                            <input type="email" class="search-input" value="hong@korea.kr" style="width: 100%; margin-top: 5px;">
                        </div>
                        <div>
                            <label style="color: #888; font-size: 14px;">ì†Œì†</label>
                            <input type="text" class="search-input" value="ì„œìš¸ì‹œ ì¢…ë¡œêµ¬ ë³´ê±´ì†Œ" style="width: 100%; margin-top: 5px;">
                        </div>
                    </div>
                    <button class="btn btn-primary" style="margin-top: 15px;">ì •ë³´ ìˆ˜ì •</button>
                </div>

                <div style="background: #1a1a1a; padding: 20px; border-radius: 12px; border: 1px solid #333;">
                    <h3 style="margin-bottom: 15px;">ë³´ì•ˆ ì„¤ì •</h3>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 10px;">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
                    <button class="btn btn-secondary" style="width: 100%;">2ë‹¨ê³„ ì¸ì¦ ì„¤ì •</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ëª¨ë°”ì¼ ë©”ë‰´ ë²„íŠ¼ -->
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>

    <!-- í”Œë¡œíŒ… ì•¡ì…˜ ë²„íŠ¼ (ë„ì›€ë§) -->
    <div class="fab" onclick="showTutorial()">?</div>

    <!-- ë¹ ë¥¸ ì•¡ì…˜ ë°” -->
    <div class="quick-actions">
        <button class="quick-action-btn" onclick="showPage('dashboard')" title="ëŒ€ì‹œë³´ë“œ">â–¡</button>
        <button class="quick-action-btn" onclick="startNewInspection()" title="ìƒˆ ì ê²€">+</button>
        <button class="quick-action-btn" onclick="showNotifications()" title="ì•Œë¦¼">â—‹</button>
        <button class="quick-action-btn" onclick="showSearch()" title="ê²€ìƒ‰">â—</button>
        <button class="quick-action-btn" onclick="showPage('reports')" title="ë³´ê³ ì„œ">â–¥</button>
    </div>

    <!-- ì ê²€ ëª¨ë‹¬ -->
    <div id="inspectionModal" class="tutorial-overlay" style="display: none;">
        <div class="tutorial-modal" style="max-width: 900px; height: 90vh; display: flex; flex-direction: column;">
            <!-- ê³ ì • í—¤ë” -->
            <div style="background: #1a1a1a; padding: 20px; border-bottom: 2px solid #333; z-index: 100; flex-shrink: 0;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 style="color: #10b981; font-size: 24px; font-weight: 700; margin: 0;">AED ì ê²€ í™”ë©´</h2>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="closeInspectionModal()">
                            <span style="margin-right: 5px;">â†</span> ëª©ë¡ìœ¼ë¡œ
                        </button>
                        <button class="btn btn-success" onclick="saveInspection()" style="min-width: 120px;">
                            <span style="margin-right: 5px;">âœ“</span> ì ê²€ ì™„ë£Œ
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì½˜í…ì¸  ì˜ì—­ -->
            <div style="flex: 1; overflow-y: auto; padding: 20px; background: #1a1a1a;">
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div>
                    <label style="color: #888; font-size: 14px;">ì¥ë¹„ì—°ë²ˆ</label>
                    <input type="text" class="search-input" value="13-0000042" readonly style="width: 100%; margin-top: 5px;">
                </div>
                <div>
                    <label style="color: #888; font-size: 14px;">ì„¤ì¹˜ê¸°ê´€ëª…</label>
                    <input type="text" class="search-input" value="ì„œìš¸ì‹œì²­" readonly style="width: 100%; margin-top: 5px;">
                </div>
            </div>

            <div style="background: #111; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                <h3 style="color: #10b981; margin-bottom: 15px;">ì ê²€ í•­ëª©</h3>
                
                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e0e0e0; margin-bottom: 10px;">1. ì™¸ê´€ ìƒíƒœ</h4>
                    <label style="display: inline-block; margin-right: 20px; color: #e0e0e0;">
                        <input type="radio" name="exterior" value="good" checked> ì–‘í˜¸
                    </label>
                    <label style="display: inline-block; margin-right: 20px; color: #e0e0e0;">
                        <input type="radio" name="exterior" value="damage"> íŒŒì†
                    </label>
                    <label style="display: inline-block; color: #e0e0e0;">
                        <input type="radio" name="exterior" value="contamination"> ì˜¤ì—¼
                    </label>
                </div>

                <div style="margin-bottom: 20px; padding: 15px; background: #0a0a0a; border-radius: 8px;">
                    <h4 style="color: #e0e0e0; margin-bottom: 15px;">2. ë°°í„°ë¦¬ ìœ íš¨ê¸°ê°„</h4>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <span style="color: #888;">DB ë“±ë¡ ì •ë³´:</span>
                        <span style="color: #10b981; font-weight: bold;">2024-12-31</span>
                        <span style="color: #e74c3c;">(D-5)</span>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <button class="btn btn-primary" onclick="confirmDate('battery')" id="batteryConfirm">ì¼ì¹˜</button>
                        <button class="btn btn-secondary" onclick="showDateEdit('battery')" id="batteryEdit">ìˆ˜ì •</button>
                        <div id="batteryEditArea" style="display: none; flex: 1;">
                            <input type="date" id="batteryDate" class="search-input" style="width: 200px;">
                            <button class="btn btn-success" onclick="saveDate('battery')" style="margin-left: 10px;">ì €ì¥</button>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 20px; padding: 15px; background: #0a0a0a; border-radius: 8px;">
                    <h4 style="color: #e0e0e0; margin-bottom: 15px;">3. íŒ¨ë“œ ìœ íš¨ê¸°ê°„</h4>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <span style="color: #888;">DB ë“±ë¡ ì •ë³´:</span>
                        <span style="color: #10b981; font-weight: bold;">2025-03-15</span>
                        <span style="color: #f39c12;">(D-68)</span>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <button class="btn btn-primary" onclick="confirmDate('pad')" id="padConfirm">ì¼ì¹˜</button>
                        <button class="btn btn-secondary" onclick="showDateEdit('pad')" id="padEdit">ìˆ˜ì •</button>
                        <div id="padEditArea" style="display: none; flex: 1;">
                            <input type="date" id="padDate" class="search-input" style="width: 200px;">
                            <button class="btn btn-success" onclick="saveDate('pad')" style="margin-left: 10px;">ì €ì¥</button>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 20px; padding: 15px; background: #0a0a0a; border-radius: 8px;">
                    <h4 style="color: #e0e0e0; margin-bottom: 15px;">4. ì¥ë¹„ ìœ íš¨ê¸°ê°„</h4>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <span style="color: #888;">DB ë“±ë¡ ì •ë³´:</span>
                        <span style="color: #10b981; font-weight: bold;">2032-01-15</span>
                        <span style="color: #27ae60;">(D-2565)</span>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <button class="btn btn-primary" onclick="confirmDate('device')" id="deviceConfirm">ì¼ì¹˜</button>
                        <button class="btn btn-secondary" onclick="showDateEdit('device')" id="deviceEdit">ìˆ˜ì •</button>
                        <div id="deviceEditArea" style="display: none; flex: 1;">
                            <input type="date" id="deviceDate" class="search-input" style="width: 200px;">
                            <button class="btn btn-success" onclick="saveDate('device')" style="margin-left: 10px;">ì €ì¥</button>
                        </div>
                    </div>
                </div>


                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e0e0e0; margin-bottom: 10px;">5. ì‘ë™ ìƒíƒœ</h4>
                    <label style="display: inline-block; margin-right: 20px; color: #e0e0e0;">
                        <input type="radio" name="operation" value="good" checked> ì •ìƒì‘ë™
                    </label>
                    <label style="display: inline-block; margin-right: 20px; color: #e0e0e0;">
                        <input type="radio" name="operation" value="error"> ì˜¤ë¥˜ë°œìƒ
                    </label>
                    <label style="display: inline-block; color: #e0e0e0;">
                        <input type="radio" name="operation" value="malfunction"> ì‘ë™ë¶ˆê°€
                    </label>
                </div>

                <div style="margin-bottom: 15px;">
                    <h4 style="color: #e0e0e0; margin-bottom: 10px;">6. í‘œì‹œë“± ìƒíƒœ</h4>
                    <label style="display: inline-block; margin-right: 20px; color: #e0e0e0;">
                        <input type="radio" name="indicator" value="green" checked> ë…¹ìƒ‰ (ì •ìƒ)
                    </label>
                    <label style="display: inline-block; margin-right: 20px; color: #e0e0e0;">
                        <input type="radio" name="indicator" value="yellow"> í™©ìƒ‰ (ì£¼ì˜)
                    </label>
                    <label style="display: inline-block; color: #e0e0e0;">
                        <input type="radio" name="indicator" value="red"> ì ìƒ‰ (ì´ìƒ)
                    </label>
                </div>

                <div style="margin-bottom: 20px; padding: 15px; background: #0a0a0a; border-radius: 8px;">
                    <h4 style="color: #e0e0e0; margin-bottom: 15px;">7. ìš´ì˜ì‹œê°„</h4>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <span style="color: #888;">DB ë“±ë¡ ì •ë³´:</span>
                        <span style="color: #10b981; font-weight: bold;">24ì‹œê°„ ìš´ì˜</span>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <button class="btn btn-primary" onclick="confirmOperatingHours()" id="hoursConfirm">ì¼ì¹˜</button>
                        <button class="btn btn-secondary" onclick="showHoursEdit()" id="hoursEdit">ìˆ˜ì •</button>
                        <div id="hoursEditArea" style="display: none; flex: 1;">
                            <select id="hoursType" class="search-input" style="width: 200px;" onchange="toggleCustomHours()">
                                <option value="24h">24ì‹œê°„</option>
                                <option value="office">í‰ì¼ ì—…ë¬´ì‹œê°„ (09:00-18:00)</option>
                                <option value="custom">ì§ì ‘ ì…ë ¥</option>
                            </select>
                            <div id="customHoursArea" style="display: none; margin-top: 10px;">
                                <input type="time" id="openTime" class="search-input" style="width: 100px;"> ~ 
                                <input type="time" id="closeTime" class="search-input" style="width: 100px;">
                            </div>
                            <button class="btn btn-success" onclick="saveHours()" style="margin-left: 10px;">ì €ì¥</button>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 20px; padding: 15px; background: #0a0a0a; border-radius: 8px;">
                    <h4 style="color: #e0e0e0; margin-bottom: 15px;">8. ì„¤ì¹˜ ìœ„ì¹˜</h4>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <span style="color: #888;">í˜„ì¬ ìœ„ì¹˜:</span>
                        <span style="color: #10b981; font-weight: bold;" id="locationDesc">ì„œìš¸ì‹œì²­ ë³¸ê´€ 1ì¸µ ë¡œë¹„</span>
                    </div>
                    
                    <!-- ì¹´ì¹´ì˜¤ ì§€ë„ ì»¨í…Œì´ë„ˆ -->
                    <div style="position: relative; margin-bottom: 10px;">
                        <div id="kakaoMapContainer" style="width: 100%; height: 400px; border-radius: 8px; position: relative; background: #f0f0f0; border: 1px solid #333;">
                            <div id="mapLoading" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #666; font-size: 14px;">
                                ì§€ë„ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                            </div>
                        </div>
                        
                        <!-- ì¢Œí‘œ í‘œì‹œ -->
                        <div style="position: absolute; bottom: 10px; left: 10px; background: rgba(0,0,0,0.8); padding: 8px 12px; border-radius: 4px; z-index: 2;">
                            <p style="color: #fff; margin: 0; font-size: 12px; font-weight: 500;">ìœ„ë„: <span id="latDisplay">37.5662952</span></p>
                            <p style="color: #fff; margin: 0; font-size: 12px; font-weight: 500;">ê²½ë„: <span id="lngDisplay">126.9779451</span></p>
                        </div>
                        
                        <!-- ìˆ˜ì • ëª¨ë“œ ì•ˆë‚´ -->
                        <div id="mapEditHint" style="position: absolute; top: 10px; right: 10px; background: linear-gradient(135deg, #f39c12, #e67e22); padding: 8px 12px; border-radius: 4px; display: none; z-index: 2; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                            <p style="color: #fff; margin: 0; font-size: 12px; font-weight: 500;">ì§€ë„ë¥¼ í´ë¦­í•˜ê±°ë‚˜ ë§ˆì»¤ë¥¼ ë“œë˜ê·¸í•˜ì—¬ ìœ„ì¹˜ ìˆ˜ì •</p>
                        </div>
                    </div>
                    
                    <!-- ë²„íŠ¼ ê·¸ë£¹ -->
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="confirmLocation()" id="locationConfirm" style="flex: 1; min-width: 120px;">
                            <span style="margin-right: 5px;">âœ“</span> ìœ„ì¹˜ í™•ì¸
                        </button>
                        <button class="btn btn-secondary" onclick="enableLocationEdit()" id="locationEdit" style="flex: 1; min-width: 120px;">
                            <span style="margin-right: 5px;">âœ</span> ìœ„ì¹˜ ìˆ˜ì •
                        </button>
                        <button class="btn btn-info" onclick="getCurrentLocation()" style="display: none; flex: 1; min-width: 120px;" id="locationGPS">
                            <span style="margin-right: 5px;">ğŸ“</span> í˜„ì¬ ìœ„ì¹˜
                        </button>
                        <button class="btn btn-success" onclick="saveLocation()" style="display: none; flex: 1; min-width: 120px;" id="locationSave">
                            <span style="margin-right: 5px;">ğŸ’¾</span> ìœ„ì¹˜ ì €ì¥
                        </button>
                    </div>
                </div>
            </div>

            <div style="margin-bottom: 20px;">
                <label style="color: #888; font-size: 14px;">ì ê²€ ë©”ëª¨</label>
                <textarea class="search-input" style="width: 100%; margin-top: 5px; height: 80px; resize: vertical;" placeholder="íŠ¹ì´ì‚¬í•­ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
            </div>

            <div style="margin-bottom: 20px;">
                <label style="color: #888; font-size: 14px;">ì‚¬ì§„ ì²¨ë¶€</label>
                <div style="border: 2px dashed #333; border-radius: 8px; padding: 20px; text-align: center; margin-top: 5px;">
                    <button class="btn btn-secondary">ì‚¬ì§„ ì„ íƒ</button>
                    <p style="color: #666; margin-top: 10px; font-size: 14px;">ë˜ëŠ” ì—¬ê¸°ì— íŒŒì¼ì„ ë“œë˜ê·¸í•˜ì„¸ìš”</p>
                </div>
            </div>

            <div style="display: flex; justify-content: space-between;">
                <button class="btn btn-secondary" onclick="closeInspectionModal()">ì·¨ì†Œ</button>
                <button class="btn btn-primary" onclick="saveInspection()">ì ê²€ ì™„ë£Œ</button>
            </div>
        </div>
    </div>

    <!-- ì•Œë¦¼ ì„¼í„° -->
    <div id="notificationCenter" class="notification-center">
        <div class="notification-header">
            <span style="font-weight: 600;">ì•Œë¦¼</span>
            <button onclick="closeNotifications()" style="background: none; border: none; color: #888; cursor: pointer;">Ã—</button>
        </div>
        <div class="notification-list">
            <div class="notification-item" onclick="showAlert('ì•Œë¦¼ ìƒì„¸ ë³´ê¸°')">
                <div style="color: #ff4444; font-weight: 600;">ê¸´ê¸‰ ì ê²€ í•„ìš”</div>
                <div style="color: #e0e0e0; font-size: 14px; margin-top: 5px;">ì„œìš¸ì‹œì²­ 1ì¸µ AED íŒ¨ë“œ ë§Œë£Œ</div>
                <div class="notification-time">5ë¶„ ì „</div>
            </div>
            <div class="notification-item" onclick="showAlert('ì•Œë¦¼ ìƒì„¸ ë³´ê¸°')">
                <div style="color: #ffaa00; font-weight: 600;">ì ê²€ ì™„ë£Œ</div>
                <div style="color: #e0e0e0; font-size: 14px; margin-top: 5px;">ê¹€ì ê²€ë‹˜ì´ 3ê±´ì˜ ì ê²€ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤</div>
                <div class="notification-time">15ë¶„ ì „</div>
            </div>
            <div class="notification-item" onclick="showAlert('ì•Œë¦¼ ìƒì„¸ ë³´ê¸°')">
                <div style="color: #10b981; font-weight: 600;">ì‹œìŠ¤í…œ ì•Œë¦¼</div>
                <div style="color: #e0e0e0; font-size: 14px; margin-top: 5px;">ì›”ê°„ ë³´ê³ ì„œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤</div>
                <div class="notification-time">1ì‹œê°„ ì „</div>
            </div>
        </div>
    </div>

    <!-- íŠœí† ë¦¬ì–¼ ì˜¤ë²„ë ˆì´ -->
    <div id="tutorialOverlay" class="tutorial-overlay" style="display: none;">
        <div class="tutorial-modal">
            <h2 class="tutorial-title">AED ìŠ¤ë§ˆíŠ¸ ì ê²€ ì‹œìŠ¤í…œ íŠœí† ë¦¬ì–¼</h2>
            <div class="tutorial-content">
                <p>ì´ ì‹œìŠ¤í…œì€ ì „êµ­ AED ì¥ë¹„ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì ê²€í•˜ê¸° ìœ„í•œ í†µí•© í”Œë«í¼ì…ë‹ˆë‹¤.</p>
                <br>
                <p><strong>ì£¼ìš” ê¸°ëŠ¥:</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>ì‹¤ì‹œê°„ ì¥ë¹„ ìƒíƒœ ëª¨ë‹ˆí„°ë§</li>
                    <li>ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì ê²€ ê´€ë¦¬</li>
                    <li>íŒ€ í˜‘ì—… ë° ì‘ì—… ë¶„ë°°</li>
                    <li>ìë™ ë³´ê³ ì„œ ìƒì„±</li>
                </ul>
                <br>
                <p>ì™¼ìª½ ë©”ë‰´ë¥¼ í´ë¦­í•˜ì—¬ ê° ê¸°ëŠ¥ì„ ì²´í—˜í•´ë³´ì„¸ìš”!</p>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 30%;"></div>
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeTutorial()">ê±´ë„ˆë›°ê¸°</button>
                <button class="btn btn-primary" onclick="nextTutorialStep()">ë‹¤ìŒ</button>
            </div>
        </div>
    </div>

    <script>
        // í˜ì´ì§€ ì „í™˜ í•¨ìˆ˜
        function showPage(pageId) {
            // ëª¨ë“  í˜ì´ì§€ ìˆ¨ê¸°ê¸°
            const pages = document.querySelectorAll('.page-section');
            pages.forEach(page => page.classList.remove('active'));
            
            // ëª¨ë“  ë©”ë‰´ ì•„ì´í…œ ë¹„í™œì„±í™”
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => item.classList.remove('active'));
            
            // ì„ íƒëœ í˜ì´ì§€ í‘œì‹œ
            document.getElementById(pageId).classList.add('active');
            
            // ì„ íƒëœ ë©”ë‰´ ì•„ì´í…œ í™œì„±í™”
            event.currentTarget.classList.add('active');
        }

        // ì ê²€ ì‹œì‘ í•¨ìˆ˜
        function startNewInspection() {
            document.getElementById('inspectionModal').style.display = 'flex';
        }

        // ì ê²€ ìƒì„¸ ë³´ê¸°
        function showInspection() {
            document.getElementById('inspectionModal').style.display = 'flex';
        }

        // ì ê²€ ëª¨ë‹¬ ë‹«ê¸°
        function closeInspectionModal() {
            document.getElementById('inspectionModal').style.display = 'none';
        }

        // ë‚ ì§œ í™•ì¸ ë²„íŠ¼
        function confirmDate(type) {
            const confirmBtn = document.getElementById(type + 'Confirm');
            confirmBtn.textContent = 'í™•ì¸ë¨';
            confirmBtn.className = 'btn btn-success';
            confirmBtn.disabled = true;
            
            // ìˆ˜ì • ë²„íŠ¼ ë¹„í™œì„±í™”
            document.getElementById(type + 'Edit').style.display = 'none';
        }

        // ë‚ ì§œ ìˆ˜ì • ëª¨ë“œ í‘œì‹œ
        function showDateEdit(type) {
            const editArea = document.getElementById(type + 'EditArea');
            editArea.style.display = 'flex';
            
            // ì¼ì¹˜/ìˆ˜ì • ë²„íŠ¼ ìˆ¨ê¸°ê¸°
            document.getElementById(type + 'Confirm').style.display = 'none';
            document.getElementById(type + 'Edit').style.display = 'none';
            
            // í˜„ì¬ ë‚ ì§œ ì„¤ì •
            const today = new Date().toISOString().split('T')[0];
            document.getElementById(type + 'Date').value = today;
        }

        // ë‚ ì§œ ì €ì¥
        function saveDate(type) {
            const newDate = document.getElementById(type + 'Date').value;
            if (!newDate) {
                showAlert('ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”');
                return;
            }
            
            // ë‚ ì§œ í‘œì‹œ ì—…ë°ì´íŠ¸
            const editArea = document.getElementById(type + 'EditArea');
            editArea.style.display = 'none';
            
            // ìˆ˜ì •ë¨ í‘œì‹œ
            const confirmBtn = document.getElementById(type + 'Confirm');
            confirmBtn.textContent = 'ìˆ˜ì •ë¨';
            confirmBtn.className = 'btn btn-warning';
            confirmBtn.style.display = 'inline-block';
            confirmBtn.disabled = true;
            
            showAlert(`${type === 'battery' ? 'ë°°í„°ë¦¬' : type === 'pad' ? 'íŒ¨ë“œ' : 'ì¥ë¹„'} ìœ íš¨ê¸°ê°„ì´ ${newDate}ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // ì ê²€ ì €ì¥
        function saveInspection() {
            // ìœ íš¨ê¸°ê°„ í™•ì¸ ìƒíƒœ ì²´í¬
            const batteryStatus = document.getElementById('batteryConfirm').textContent;
            const padStatus = document.getElementById('padConfirm').textContent;
            const deviceStatus = document.getElementById('deviceConfirm').textContent;
            
            // í•˜ë‚˜ë¼ë„ í™•ì¸/ìˆ˜ì •ë˜ì§€ ì•Šì€ ê²½ìš°
            if (batteryStatus === 'ì¼ì¹˜' || padStatus === 'ì¼ì¹˜' || deviceStatus === 'ì¼ì¹˜') {
                showAlert('ëª¨ë“  ìœ íš¨ê¸°ê°„ì„ í™•ì¸ ë˜ëŠ” ìˆ˜ì •í•´ì£¼ì„¸ìš”');
                return;
            }
            
            // ì„ íƒëœ ê°’ë“¤ ìˆ˜ì§‘
            const exterior = document.querySelector('input[name="exterior"]:checked').value;
            const operation = document.querySelector('input[name="operation"]:checked').value;
            const indicator = document.querySelector('input[name="indicator"]:checked').value;
            
            showAlert('ì ê²€ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
            closeInspectionModal();
            
            // ì ê²€ ì™„ë£Œ ì¹´ë“œ ì—…ë°ì´íŠ¸ (ì‹œê°ì  í”¼ë“œë°±)
            setTimeout(() => {
                showAlert('ë‹¤ìŒ ì ê²€ ëŒ€ìƒìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤');
                // ì‹¤ì œë¡œëŠ” ë¦¬ìŠ¤íŠ¸ì—ì„œ ì™„ë£Œëœ í•­ëª© ì œê±°í•˜ê³  ë‹¤ìŒ í•­ëª© í‘œì‹œ
            }, 1000);
        }

        // ë„¤ë¹„ê²Œì´ì…˜ ì‹œì‘
        function startNavigation(placeName, lat, lng) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 2500;
            `;
            modal.innerHTML = `
                <div style="background: #1a1a1a; border: 1px solid #333; border-radius: 12px; padding: 30px; max-width: 400px;">
                    <h3 style="color: #10b981; margin-bottom: 20px;">ê¸¸ì•ˆë‚´ ì•± ì„ íƒ</h3>
                    <p style="color: #e0e0e0; margin-bottom: 20px;">ëª©ì ì§€: ${placeName}</p>
                    <div style="display: grid; gap: 10px;">
                        <button class="btn btn-primary" style="width: 100%;" onclick="openTmap('${placeName}', '${lat}', '${lng}')">í‹°ë§µìœ¼ë¡œ ì•ˆë‚´</button>
                        <button class="btn btn-primary" style="width: 100%;" onclick="openKakaoNavi('${placeName}', '${lat}', '${lng}')">ì¹´ì¹´ì˜¤ë‚´ë¹„ë¡œ ì•ˆë‚´</button>
                        <button class="btn btn-primary" style="width: 100%;" onclick="openNaverMap('${placeName}', '${lat}', '${lng}')">ë„¤ì´ë²„ì§€ë„ë¡œ ì•ˆë‚´</button>
                        <button class="btn btn-secondary" style="width: 100%; margin-top: 10px;" onclick="this.parentElement.parentElement.parentElement.remove()">ì·¨ì†Œ</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // í‹°ë§µ ì—´ê¸°
        function openTmap(name, lat, lng) {
            const url = `tmap://route?goalname=${encodeURIComponent(name)}&goalx=${lng}&goaly=${lat}`;
            window.open(url, '_blank');
            showAlert('í‹°ë§µì´ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë©´ ì•±ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.');
            document.querySelector('[style*="z-index: 2500"]').remove();
        }

        // ì¹´ì¹´ì˜¤ë‚´ë¹„ ì—´ê¸°
        function openKakaoNavi(name, lat, lng) {
            const url = `kakaomap://route?ep=${lat},${lng}&by=CAR`;
            window.open(url, '_blank');
            showAlert('ì¹´ì¹´ì˜¤ë‚´ë¹„ê°€ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë©´ ì•±ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.');
            document.querySelector('[style*="z-index: 2500"]').remove();
        }

        // ë„¤ì´ë²„ì§€ë„ ì—´ê¸°
        function openNaverMap(name, lat, lng) {
            const url = `nmap://route/car?dlat=${lat}&dlng=${lng}&dname=${encodeURIComponent(name)}`;
            window.open(url, '_blank');
            showAlert('ë„¤ì´ë²„ì§€ë„ê°€ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë©´ ì•±ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.');
            document.querySelector('[style*="z-index: 2500"]').remove();
        }

        // íŒ€ì› ë°°ì •
        function assignTeamMember(selectElement, deviceId) {
            const member = selectElement.value;
            if (member) {
                showAlert(`${deviceId} ì¥ë¹„ë¥¼ ${member}ë‹˜ì—ê²Œ ë°°ì •í–ˆìŠµë‹ˆë‹¤.`);
            } else {
                showAlert(`${deviceId} ì¥ë¹„ ë°°ì •ì„ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.`);
            }
        }

        // íŠœí† ë¦¬ì–¼ í‘œì‹œ
        function showTutorial() {
            document.getElementById('tutorialOverlay').style.display = 'flex';
        }

        // íŠœí† ë¦¬ì–¼ ë‹«ê¸°
        function closeTutorial() {
            document.getElementById('tutorialOverlay').style.display = 'none';
        }

        // íŠœí† ë¦¬ì–¼ ë‹¤ìŒ ë‹¨ê³„
        let tutorialStep = 1;
        function nextTutorialStep() {
            tutorialStep++;
            const progressFill = document.querySelector('.progress-fill');
            const tutorialContent = document.querySelector('.tutorial-content');
            
            switch(tutorialStep) {
                case 2:
                    progressFill.style.width = '60%';
                    tutorialContent.innerHTML = `
                        <p><strong>ëŒ€ì‹œë³´ë“œ</strong></p>
                        <p>ì „ì²´ AED í˜„í™©ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>ì „ì²´ ì¥ë¹„ ìˆ˜</li>
                            <li>ì ê²€ í•„ìš” ì¥ë¹„</li>
                            <li>ë§Œë£Œ ì„ë°• ì¥ë¹„</li>
                            <li>ì˜¤ëŠ˜ ì ê²€ ì™„ë£Œ</li>
                        </ul>
                        <p style="margin-top: 15px;">ê¸´ê¸‰ ì ê²€ì´ í•„ìš”í•œ ì¥ë¹„ëŠ” ìƒë‹¨ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
                    `;
                    break;
                case 3:
                    progressFill.style.width = '100%';
                    tutorialContent.innerHTML = `
                        <p><strong>ì ê²€ ê´€ë¦¬</strong></p>
                        <p>AED ì ê²€ì„ ìˆ˜í–‰í•˜ê³  ê¸°ë¡ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>QR ì½”ë“œ ìŠ¤ìº”ìœ¼ë¡œ ë¹ ë¥¸ ì ê²€</li>
                            <li>ì‚¬ì§„ ì´¬ì˜ ë° ì²¨ë¶€</li>
                            <li>ì ê²€ í•­ëª© ì²´í¬ë¦¬ìŠ¤íŠ¸</li>
                            <li>ìœ„ì¹˜ ì •ë³´ ìë™ ê¸°ë¡</li>
                        </ul>
                        <p style="margin-top: 15px;">ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œë„ ë™ì¼í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤!</p>
                    `;
                    document.querySelector('.btn-primary').textContent = 'ì‹œì‘í•˜ê¸°';
                    break;
                case 4:
                    closeTutorial();
                    tutorialStep = 1;
                    break;
            }
        }

        // ì•Œë¦¼ í‘œì‹œ í•¨ìˆ˜
        function showAlert(message) {
            // ì„ì‹œ ì•Œë¦¼ í‘œì‹œ
            const alert = document.createElement('div');
            alert.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: #10b981;
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 3000;
                animation: slideIn 0.3s ease;
            `;
            alert.textContent = message;
            document.body.appendChild(alert);
            
            setTimeout(() => {
                alert.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => alert.remove(), 300);
            }, 3000);
        }

        // ì•Œë¦¼ ì„¼í„° í‘œì‹œ/ìˆ¨ê¸°ê¸°
        function showNotifications() {
            const center = document.getElementById('notificationCenter');
            center.style.display = center.style.display === 'block' ? 'none' : 'block';
        }

        function closeNotifications() {
            document.getElementById('notificationCenter').style.display = 'none';
        }

        // ê²€ìƒ‰ ëª¨ë‹¬
        function showSearch() {
            const searchModal = document.createElement('div');
            searchModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 2500;
            `;
            searchModal.innerHTML = `
                <div style="width: 600px; max-width: 90%;">
                    <input type="text" placeholder="ì „ì²´ ì‹œìŠ¤í…œ ê²€ìƒ‰..." style="
                        width: 100%;
                        padding: 20px;
                        font-size: 20px;
                        background: #1a1a1a;
                        border: 2px solid #10b981;
                        border-radius: 12px;
                        color: white;
                        outline: none;
                    " autofocus>
                    <div style="margin-top: 20px; color: #888; text-align: center;">
                        ESCë¥¼ ëˆŒëŸ¬ ë‹«ê¸°
                    </div>
                </div>
            `;
            
            searchModal.addEventListener('click', (e) => {
                if (e.target === searchModal) {
                    searchModal.remove();
                }
            });
            
            searchModal.querySelector('input').addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    searchModal.remove();
                } else if (e.key === 'Enter') {
                    showAlert(`'${e.target.value}' ê²€ìƒ‰ ì¤‘...`);
                    searchModal.remove();
                }
            });
            
            document.body.appendChild(searchModal);
        }

        // ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼ ì¶”ê°€
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes fadeOut {
                from { opacity: 1; }
                to { opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // ì‹¤ì‹œê°„ ë°ì´í„° ì‹œë®¬ë ˆì´ì…˜
        function simulateRealtimeData() {
            setInterval(() => {
                // ëœë¤í•˜ê²Œ ìˆ«ì ì—…ë°ì´íŠ¸
                const statValues = document.querySelectorAll('.stat-value');
                statValues.forEach((value, index) => {
                    if (Math.random() > 0.7) {
                        const current = parseInt(value.textContent);
                        const change = Math.floor(Math.random() * 3) - 1;
                        const newValue = Math.max(0, current + change);
                        if (newValue !== current) {
                            value.style.animation = 'pulse 0.5s ease';
                            value.textContent = newValue;
                            setTimeout(() => value.style.animation = '', 500);
                        }
                    }
                });
            }, 5000);
        }

        // ê²€ìƒ‰ ê¸°ëŠ¥ ì‹œë®¬ë ˆì´ì…˜
        document.querySelectorAll('.search-input').forEach(input => {
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    showAlert(`'${input.value}' ê²€ìƒ‰ ì¤‘...`);
                    setTimeout(() => {
                        showAlert('ê²€ìƒ‰ ì™„ë£Œ: 3ê°œ ê²°ê³¼ ë°œê²¬');
                    }, 1000);
                }
            });
        });

        // í•„í„° ë³€ê²½ ì‹œë®¬ë ˆì´ì…˜
        document.querySelectorAll('select').forEach(select => {
            select.addEventListener('change', () => {
                showAlert(`í•„í„° ì ìš©: ${select.value}`);
            });
        });

        // í…Œì´ë¸” í–‰ í´ë¦­ ìƒí˜¸ì‘ìš©
        document.querySelectorAll('tbody tr').forEach(row => {
            row.style.cursor = 'pointer';
            row.addEventListener('click', (e) => {
                if (!e.target.matches('button')) {
                    row.style.background = row.style.background ? '' : 'rgba(74,144,226,0.1)';
                }
            });
        });

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + K: ë¹ ë¥¸ ê²€ìƒ‰
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                const searchInput = document.querySelector('.search-input');
                if (searchInput) {
                    searchInput.focus();
                    searchInput.select();
                }
            }
            // ESC: íŠœí† ë¦¬ì–¼ ë‹«ê¸°
            if (e.key === 'Escape') {
                closeTutorial();
            }
            // ?: ë„ì›€ë§ í‘œì‹œ
            if (e.key === '?' && !e.target.matches('input, textarea')) {
                e.preventDefault();
                showTutorial();
            }
        });

        // ì°¨íŠ¸ ì‹œë®¬ë ˆì´ì…˜ (ê°„ë‹¨í•œ ë§‰ëŒ€ ì°¨íŠ¸)
        function createMiniChart(container) {
            const data = [65, 59, 80, 81, 56, 55, 70];
            const maxValue = Math.max(...data);
            const chartHTML = `
                <div style="display: flex; align-items: flex-end; height: 100px; gap: 5px; padding: 10px;">
                    ${data.map(value => `
                        <div style="
                            flex: 1;
                            background: linear-gradient(to top, #10b981, #357abd);
                            height: ${(value/maxValue)*100}%;
                            border-radius: 2px 2px 0 0;
                            transition: all 0.3s ease;
                            cursor: pointer;
                        " onmouseover="this.style.opacity='0.8'" onmouseout="this.style.opacity='1'" 
                           onclick="showAlert('ê°’: ${value}')"></div>
                    `).join('')}
                </div>
            `;
            container.innerHTML = chartHTML;
        }

        // ì´ˆê¸° ë¡œë“œì‹œ ì„¤ì •
        window.addEventListener('load', () => {
            // ì‹¤ì‹œê°„ ë°ì´í„° ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘
            simulateRealtimeData();
            
            // ì²« ë°©ë¬¸ì‹œ ìë™ìœ¼ë¡œ íŠœí† ë¦¬ì–¼ í‘œì‹œ
            if (!localStorage.getItem('tutorialShown')) {
                setTimeout(() => {
                    showTutorial();
                    localStorage.setItem('tutorialShown', 'true');
                }, 1000);
            }
        });

        // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€
        function toggleMobileMenu() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì‹œë®¬ë ˆì´ì…˜
        let draggedElement = null;
        
        document.querySelectorAll('.stat-card').forEach(card => {
            card.draggable = true;
            card.style.cursor = 'move';
            
            card.addEventListener('dragstart', (e) => {
                draggedElement = e.target;
                e.target.style.opacity = '0.5';
            });
            
            card.addEventListener('dragend', (e) => {
                e.target.style.opacity = '';
            });
            
            card.addEventListener('dragover', (e) => {
                e.preventDefault();
                e.target.style.border = '2px dashed #10b981';
            });
            
            card.addEventListener('dragleave', (e) => {
                e.target.style.border = '';
            });
            
            card.addEventListener('drop', (e) => {
                e.preventDefault();
                e.target.style.border = '';
                if (draggedElement !== e.target && e.target.classList.contains('stat-card')) {
                    const parent = e.target.parentNode;
                    const draggedIndex = Array.from(parent.children).indexOf(draggedElement);
                    const targetIndex = Array.from(parent.children).indexOf(e.target);
                    
                    if (draggedIndex < targetIndex) {
                        parent.insertBefore(draggedElement, e.target.nextSibling);
                    } else {
                        parent.insertBefore(draggedElement, e.target);
                    }
                    showAlert('ìœ„ì ¯ ìˆœì„œê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤');
                }
            });
        })

        // ê¶Œí•œë³„ ëŒ€ì‹œë³´ë“œ í•„í„°ë§
        function changeUserRole() {
            const role = document.getElementById('userRole').value;
            const filterDiv = document.getElementById('dashboardFilter');
            const totalAED = document.getElementById('totalAED');
            
            if (role === 'local') {
                // ë³´ê±´ì†Œ ë‹´ë‹¹ìëŠ” í•„í„° ì—†ìŒ
                filterDiv.style.display = 'none';
                totalAED.textContent = '327';
            } else if (role === 'regional') {
                // ì‹œë„ ë‹´ë‹¹ìëŠ” êµ¬/êµ° ì„ íƒ ê°€ëŠ¥
                filterDiv.style.display = 'block';
                document.getElementById('districtFilter').style.display = 'inline-block';
                updateDistrictOptions('seoul');
                totalAED.textContent = '5,238';
            } else {
                // ë³µì§€ë¶€, ì¤‘ì•™ì‘ê¸‰ì˜ë£Œì„¼í„°ëŠ” ì‹œë„ ì„ íƒ ê°€ëŠ¥
                filterDiv.style.display = 'block';
                document.getElementById('districtFilter').style.display = 'none';
                totalAED.textContent = '80,000';
            }
        }

        function updateDistrictOptions(region) {
            const districtFilter = document.getElementById('districtFilter');
            districtFilter.innerHTML = '<option value="all">ì „ì²´ êµ¬/êµ°</option>';
            
            const districts = {
                'seoul': ['ì¢…ë¡œêµ¬', 'ì¤‘êµ¬', 'ìš©ì‚°êµ¬', 'ì„±ë™êµ¬', 'ê´‘ì§„êµ¬', 'ë™ëŒ€ë¬¸êµ¬', 'ì¤‘ë‘êµ¬', 'ì„±ë¶êµ¬', 'ê°•ë¶êµ¬', 'ë„ë´‰êµ¬', 'ë…¸ì›êµ¬', 'ì€í‰êµ¬', 'ì„œëŒ€ë¬¸êµ¬', 'ë§ˆí¬êµ¬', 'ì–‘ì²œêµ¬', 'ê°•ì„œêµ¬', 'êµ¬ë¡œêµ¬', 'ê¸ˆì²œêµ¬', 'ì˜ë“±í¬êµ¬', 'ë™ì‘êµ¬', 'ê´€ì•…êµ¬', 'ì„œì´ˆêµ¬', 'ê°•ë‚¨êµ¬', 'ì†¡íŒŒêµ¬', 'ê°•ë™êµ¬'],
                'busan': ['ì¤‘êµ¬', 'ì„œêµ¬', 'ë™êµ¬', 'ì˜ë„êµ¬', 'ë¶€ì‚°ì§„êµ¬', 'ë™ë˜êµ¬', 'ë‚¨êµ¬', 'ë¶êµ¬', 'í•´ìš´ëŒ€êµ¬', 'ì‚¬í•˜êµ¬', 'ê¸ˆì •êµ¬', 'ê°•ì„œêµ¬', 'ì—°ì œêµ¬', 'ìˆ˜ì˜êµ¬', 'ì‚¬ìƒêµ¬', 'ê¸°ì¥êµ°']
            };
            
            if (districts[region]) {
                districts[region].forEach(district => {
                    const option = document.createElement('option');
                    option.value = district;
                    option.textContent = district;
                    districtFilter.appendChild(option);
                });
            }
        }

        function updateDashboard() {
            const region = document.getElementById('regionFilter').value;
            const district = document.getElementById('districtFilter').value;
            
            // ì§€ì—­ ë³€ê²½ì‹œ êµ¬/êµ° ì˜µì…˜ ì—…ë°ì´íŠ¸
            if (region !== 'all') {
                updateDistrictOptions(region);
            }
            
            showAlert('ëŒ€ì‹œë³´ë“œê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        // íŒ€ì› ì¶”ê°€ ëª¨ë‹¬
        function showAddMemberModal() {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 10000;';
            
            modal.innerHTML = `
                <div class="modal-content" style="background: #1a1a1a; padding: 30px; border-radius: 12px; width: 400px; border: 1px solid #333;">
                    <h2 style="margin-bottom: 20px; color: #fff;">íŒ€ì› ì¶”ê°€</h2>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; color: #888;">ì´ë¦„</label>
                        <input type="text" id="newMemberName" style="width: 100%; padding: 8px; background: #222; border: 1px solid #666; border-radius: 4px; color: #fff;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; color: #888;">ì†Œì†</label>
                        <input type="text" id="newMemberDept" style="width: 100%; padding: 8px; background: #222; border: 1px solid #666; border-radius: 4px; color: #fff;">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; color: #888;">í• ë‹¹ëŸ‰</label>
                        <input type="number" id="newMemberQuota" value="10" style="width: 100%; padding: 8px; background: #222; border: 1px solid #666; border-radius: 4px; color: #fff;">
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="addNewMember()">ì¶”ê°€</button>
                        <button class="btn btn-secondary" onclick="this.closest('.modal-overlay').remove()">ì·¨ì†Œ</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function addNewMember() {
            const name = document.getElementById('newMemberName').value;
            const dept = document.getElementById('newMemberDept').value;
            const quota = document.getElementById('newMemberQuota').value;
            
            if (!name || !dept) {
                showAlert('ì´ë¦„ê³¼ ì†Œì†ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }
            
            const tbody = document.getElementById('teamMembersList');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>${name}</td>
                <td>${dept}</td>
                <td>${quota}</td>
                <td>0</td>
                <td><div style="background: #333; border-radius: 4px; overflow: hidden; height: 20px;"><div style="background: #10b981; height: 100%; width: 0%;"></div></div></td>
                <td><button class="btn btn-secondary" onclick="showMemberDetails('${name}', ${quota}, 0)">ìƒì„¸ë³´ê¸°</button></td>
            `;
            tbody.appendChild(newRow);
            
            document.querySelector('.modal-overlay').remove();
            showAlert(`${name}ë‹˜ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // ê²€ìƒ‰ ëª¨ë“œ ì „í™˜
        function showSearchMode(mode) {
            // ëª¨ë“  ë²„íŠ¼ ì´ˆê¸°í™”
            document.querySelectorAll('[id^="search"]').forEach(btn => {
                btn.className = 'btn btn-secondary';
            });
            
            const searchArea = document.getElementById('searchInputArea');
            const searchInput = document.getElementById('searchInput');
            
            if (mode === 'priority') {
                document.getElementById('searchPriority').className = 'btn btn-primary';
                searchArea.style.display = 'none';
                updateInspectionList('priority');
            } else if (mode === 'name') {
                document.getElementById('searchName').className = 'btn btn-primary';
                searchArea.style.display = 'block';
                searchInput.placeholder = 'ì„¤ì¹˜ê¸°ê´€ëª…ì„ ì…ë ¥í•˜ì„¸ìš”...';
            } else if (mode === 'serial') {
                document.getElementById('searchSerial').className = 'btn btn-primary';
                searchArea.style.display = 'block';
                searchInput.placeholder = 'ì¥ë¹„ì—°ë²ˆì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 13-0000001)';
            } else if (mode === 'gps') {
                document.getElementById('searchGPS').className = 'btn btn-primary';
                searchArea.style.display = 'none';
                requestGPSLocation();
            }
        }

        // GPS ìœ„ì¹˜ ìš”ì²­
        function requestGPSLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        showAlert('í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°€ê¹Œìš´ AEDë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤');
                        updateInspectionList('gps', position.coords);
                    },
                    (error) => {
                        showAlert('ìœ„ì¹˜ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤');
                    }
                );
            } else {
                showAlert('GPSë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤');
            }
        }

        // ì ê²€ ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        function updateInspectionList(mode, params) {
            const list = document.getElementById('inspectionList');
            const hasSchedule = document.querySelector('input[type="checkbox"]:checked');
            
            // ìŠ¤ì¼€ì¤„ ëª¨ë“œ í† ê¸€ì‹œ ìƒíƒœ í‘œì‹œ ë³€ê²½
            const scheduleStatus = document.getElementById('scheduleStatus');
            if (!hasSchedule || mode === 'recommended') {
                scheduleStatus.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 24px;">ğŸ’¡</span>
                        <div>
                            <h3 style="margin: 0; color: #f39c12;">ì¶”ì²œ ì ê²€ ëŒ€ìƒ (ìš°ì„ ìˆœìœ„ ê¸°ë°˜)</h3>
                            <p style="margin: 5px 0 0 0; color: #888; font-size: 14px;">ìŠ¤ì¼€ì¤„ ë¯¸ì„¤ì • - ìë™ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸</p>
                        </div>
                    </div>
                `;
                scheduleStatus.style.background = '#4a3a1a';
                scheduleStatus.style.borderColor = '#5a4a2a';
            } else {
                scheduleStatus.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 24px;">ğŸ“…</span>
                        <div>
                            <h3 style="margin: 0; color: #10b981;">ì˜¤ëŠ˜ì˜ ì ê²€ ìŠ¤ì¼€ì¤„ (12ê±´)</h3>
                            <p style="margin: 5px 0 0 0; color: #888; font-size: 14px;">ì„¤ì •ëœ ìŠ¤ì¼€ì¤„ì— ë”°ë¥¸ ì ê²€ ëŒ€ìƒ</p>
                        </div>
                    </div>
                `;
                scheduleStatus.style.background = '#1a3a52';
                scheduleStatus.style.borderColor = '#2a4a62';
            }
        }

        // ìŠ¤ì¼€ì¤„ ëª¨ë“œ í† ê¸€
        function toggleScheduleMode() {
            const checkbox = event.target;
            if (checkbox.checked) {
                // ì¶”ì²œ ëª¨ë“œë¡œ ì „í™˜
                updateInspectionList('recommended');
                const list = document.getElementById('inspectionList');
                list.innerHTML = `
                    <div style="background: #2a2a1a; padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #4a4a2a;">
                        <p style="color: #f39c12; margin: 0;">âš ï¸ ìŠ¤ì¼€ì¤„ì´ ì„¤ì •ë˜ì§€ ì•Šì•„ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ìë™ ì¶”ì²œë©ë‹ˆë‹¤</p>
                    </div>
                    
                    <!-- ì¶”ì²œ í•­ëª© 1 -->
                    <div class="inspection-card" style="background: #1a1a1a; padding: 20px; border-radius: 8px; border-left: 4px solid #e74c3c;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <div>
                                <span style="background: #e74c3c; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px;">ìš°ì„  1</span>
                                <h3 style="margin: 10px 0 5px 0; color: #fff;">ì„œìš¸ì‹œì²­ ë³¸ê´€</h3>
                                <p style="color: #888; font-size: 14px;">ì¥ë¹„ì—°ë²ˆ: 13-0000042</p>
                            </div>
                            <div style="text-align: right;">
                                <span class="badge badge-danger">ë°°í„°ë¦¬ D-5</span>
                            </div>
                        </div>
                        <div style="color: #666; font-size: 14px; margin-bottom: 15px;">
                            ì¶”ì²œ ì‚¬ìœ : ë°°í„°ë¦¬ ë§Œë£Œ ì„ë°•
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary" onclick="startInspection('13-0000042')" style="flex: 1;">ì ê²€ ì‹œì‘</button>
                            <button class="btn btn-secondary" onclick="startNavigation('ì„œìš¸ì‹œì²­', '37.5662952', '126.9779451')">ê¸¸ì•ˆë‚´</button>
                        </div>
                    </div>
                    
                    <!-- ì¶”ì²œ í•­ëª© 2 -->
                    <div class="inspection-card" style="background: #1a1a1a; padding: 20px; border-radius: 8px; border-left: 4px solid #f39c12;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <div>
                                <span style="background: #f39c12; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px;">ìš°ì„  2</span>
                                <h3 style="margin: 10px 0 5px 0; color: #fff;">ê°•ë‚¨êµ¬ì²­</h3>
                                <p style="color: #888; font-size: 14px;">ì¥ë¹„ì—°ë²ˆ: 13-0000156</p>
                            </div>
                            <div style="text-align: right;">
                                <span class="badge badge-warning">íŒ¨ë“œ D-25</span>
                            </div>
                        </div>
                        <div style="color: #666; font-size: 14px; margin-bottom: 15px;">
                            ì¶”ì²œ ì‚¬ìœ : íŒ¨ë“œ êµì²´ ì˜ˆì •
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary" onclick="startInspection('13-0000156')" style="flex: 1;">ì ê²€ ì‹œì‘</button>
                            <button class="btn btn-secondary" onclick="startNavigation('ê°•ë‚¨êµ¬ì²­', '37.5172363', '127.0473248')">ê¸¸ì•ˆë‚´</button>
                        </div>
                    </div>
                `;
            } else {
                // ìŠ¤ì¼€ì¤„ ëª¨ë“œë¡œ ë³µê·€
                location.reload();
            }
        }

        // ê²€ìƒ‰ ìˆ˜í–‰
        function performSearch() {
            const searchValue = document.getElementById('searchInput').value;
            if (!searchValue) {
                showAlert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }
            showAlert(`'${searchValue}' ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤`);
            // ì‹¤ì œë¡œëŠ” ê²€ìƒ‰ ê²°ê³¼ë¥¼ í•„í„°ë§í•˜ì—¬ í‘œì‹œ
        }

        // ìš´ì˜ì‹œê°„ í™•ì¸
        function confirmOperatingHours() {
            const confirmBtn = document.getElementById('hoursConfirm');
            confirmBtn.textContent = 'í™•ì¸ë¨';
            confirmBtn.className = 'btn btn-success';
            confirmBtn.disabled = true;
            document.getElementById('hoursEdit').style.display = 'none';
        }

        // ìš´ì˜ì‹œê°„ ìˆ˜ì • ëª¨ë“œ
        function showHoursEdit() {
            document.getElementById('hoursEditArea').style.display = 'flex';
            document.getElementById('hoursConfirm').style.display = 'none';
            document.getElementById('hoursEdit').style.display = 'none';
        }

        // ì»¤ìŠ¤í…€ ì‹œê°„ í† ê¸€
        function toggleCustomHours() {
            const hoursType = document.getElementById('hoursType').value;
            const customArea = document.getElementById('customHoursArea');
            customArea.style.display = hoursType === 'custom' ? 'block' : 'none';
        }

        // ìš´ì˜ì‹œê°„ ì €ì¥
        function saveHours() {
            const hoursType = document.getElementById('hoursType').value;
            let hoursText = '';
            
            if (hoursType === '24h') {
                hoursText = '24ì‹œê°„';
            } else if (hoursType === 'office') {
                hoursText = '09:00-18:00';
            } else {
                const openTime = document.getElementById('openTime').value;
                const closeTime = document.getElementById('closeTime').value;
                if (!openTime || !closeTime) {
                    showAlert('ìš´ì˜ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                    return;
                }
                hoursText = `${openTime}-${closeTime}`;
            }
            
            document.getElementById('hoursEditArea').style.display = 'none';
            const confirmBtn = document.getElementById('hoursConfirm');
            confirmBtn.textContent = 'ìˆ˜ì •ë¨';
            confirmBtn.className = 'btn btn-warning';
            confirmBtn.style.display = 'inline-block';
            confirmBtn.disabled = true;
            
            showAlert(`ìš´ì˜ì‹œê°„ì´ ${hoursText}ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // ìœ„ì¹˜ í™•ì¸
        function confirmLocation() {
            const confirmBtn = document.getElementById('locationConfirm');
            confirmBtn.textContent = 'í™•ì¸ë¨';
            confirmBtn.className = 'btn btn-success';
            confirmBtn.disabled = true;
            document.getElementById('locationEdit').style.display = 'none';
        }

        // ì¹´ì¹´ì˜¤ ì§€ë„ ê´€ë ¨ ë³€ìˆ˜
        let kakaoMap = null;
        let kakaoMarker = null;
        let isEditingLocation = false;
        let currentLat = 37.5662952;
        let currentLng = 126.9779451;
        let hasLocationChanged = false;
        
        // ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™”
        function initKakaoMap() {
            // ì¹´ì¹´ì˜¤ë§µ APIê°€ ë¡œë“œë  ë•Œê¹Œì§€ ëŒ€ê¸°
            if (typeof kakao === 'undefined') {
                console.log('ì¹´ì¹´ì˜¤ë§µ API ë¡œë”© ì¤‘...');
                setTimeout(initKakaoMap, 500);
                return;
            }
            
            // ì¹´ì¹´ì˜¤ë§µ ë¡œë“œ
            kakao.maps.load(() => {
                console.log('ì¹´ì¹´ì˜¤ë§µ ë¡œë“œ ì™„ë£Œ');
                createMap();
            });
        }
        
        // ì§€ë„ ìƒì„±
        function createMap() {
            try {
                const container = document.getElementById('kakaoMapContainer');
                if (!container) {
                    console.error('ì§€ë„ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                    return;
                }
                
                console.log('ì§€ë„ ì»¨í…Œì´ë„ˆ ì°¾ìŒ:', container);
                
                // ì»¨í…Œì´ë„ˆì— ë†’ì´ê°€ ì—†ìœ¼ë©´ ì„¤ì •
                if (!container.style.height || container.offsetHeight === 0) {
                    container.style.height = '400px';
                }
                
                const options = {
                    center: new kakao.maps.LatLng(currentLat, currentLng),
                    level: 3
                };
                
                console.log('ì§€ë„ ìƒì„± ì‹œì‘...');
                kakaoMap = new kakao.maps.Map(container, options);
                console.log('ì§€ë„ ìƒì„± ì™„ë£Œ');
                
                // ë¡œë”© ë©”ì‹œì§€ ìˆ¨ê¸°ê¸°
                const loadingMsg = document.getElementById('mapLoading');
                if (loadingMsg) {
                    loadingMsg.style.display = 'none';
                }
                
                // ì¤Œ ì»¨íŠ¸ë¡¤ ì¶”ê°€
                const zoomControl = new kakao.maps.ZoomControl();
                kakaoMap.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
                
                // ë§ˆì»¤ ì¶”ê°€
                kakaoMarker = new kakao.maps.Marker({
                    position: new kakao.maps.LatLng(currentLat, currentLng),
                    map: kakaoMap,
                    draggable: false
                });
                
                console.log('ë§ˆì»¤ ì¶”ê°€ ì™„ë£Œ');
                
                // ì§€ë„ ë¦¬ì‚¬ì´ì¦ˆ (ì§€ë„ê°€ ìˆ¨ê²¨ì§„ ìƒíƒœì—ì„œ ìƒì„±ëœ ê²½ìš°ë¥¼ ìœ„í•´)
                setTimeout(() => {
                    kakaoMap.relayout();
                }, 200);
                
            } catch (error) {
                console.error('ì¹´ì¹´ì˜¤ë§µ ìƒì„± ì˜¤ë¥˜:', error);
            }
        }
        
        // ìœ„ì¹˜ ì—…ë°ì´íŠ¸
        function updateLocation(lat, lng) {
            currentLat = lat;
            currentLng = lng;
            document.getElementById('latDisplay').textContent = lat.toFixed(7);
            document.getElementById('lngDisplay').textContent = lng.toFixed(7);
            hasLocationChanged = true;
        }
        
        // ìœ„ì¹˜ ìˆ˜ì • ëª¨ë“œ í™œì„±í™”
        function enableLocationEdit() {
            isEditingLocation = true;
            hasLocationChanged = false;
            
            // UI ì—…ë°ì´íŠ¸
            document.getElementById('mapEditHint').style.display = 'block';
            document.getElementById('locationConfirm').style.display = 'none';
            document.getElementById('locationEdit').style.display = 'none';
            document.getElementById('locationGPS').style.display = 'inline-block';
            document.getElementById('locationSave').style.display = 'inline-block';
            
            // ì¹´ì¹´ì˜¤ë§µ ë§ˆì»¤ ë“œë˜ê·¸ ê°€ëŠ¥í•˜ê²Œ ì„¤ì •
            if (kakaoMarker) {
                kakaoMarker.setDraggable(true);
                
                // ë“œë˜ê·¸ ì¢…ë£Œ ì´ë²¤íŠ¸
                kakao.maps.event.addListener(kakaoMarker, 'dragend', function() {
                    const position = kakaoMarker.getPosition();
                    updateLocation(position.getLat(), position.getLng());
                    if (hasLocationChanged) {
                        showLocationChangeConfirmation();
                    }
                });
            }
            
            // ì§€ë„ í´ë¦­ ì´ë²¤íŠ¸
            if (kakaoMap) {
                kakao.maps.event.addListener(kakaoMap, 'click', function(mouseEvent) {
                    const latlng = mouseEvent.latLng;
                    kakaoMarker.setPosition(latlng);
                    updateLocation(latlng.getLat(), latlng.getLng());
                    showLocationChangeConfirmation();
                });
            }
        }
        
        
        // ìœ„ì¹˜ ë³€ê²½ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
        function showLocationChangeConfirmation() {
            // ê¸°ì¡´ ë‹¤ì´ì–¼ë¡œê·¸ ì œê±°
            const existingDialog = document.getElementById('locationChangeDialog');
            if (existingDialog) existingDialog.remove();
            
            const dialog = document.createElement('div');
            dialog.id = 'locationChangeDialog';
            dialog.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: #2a2a2a;
                border: 2px solid #10b981;
                border-radius: 10px;
                padding: 20px;
                z-index: 10000;
                box-shadow: 0 4px 20px rgba(0,0,0,0.5);
                min-width: 300px;
                text-align: center;
            `;
            
            dialog.innerHTML = `
                <div style="color: #fff; margin-bottom: 20px; font-size: 16px;">
                    ìˆ˜ì •ëœ ìœ„ì¹˜ë¡œ ë³€ê²½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
                </div>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button onclick="confirmLocationChange()" style="
                        background: #10b981;
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 5px;
                        cursor: pointer;
                        font-size: 14px;
                    ">ë³€ê²½</button>
                    <button onclick="cancelLocationChange()" style="
                        background: #666;
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 5px;
                        cursor: pointer;
                        font-size: 14px;
                    ">ì·¨ì†Œ</button>
                </div>
            `;
            
            document.body.appendChild(dialog);
        }
        
        // ìœ„ì¹˜ ë³€ê²½ í™•ì¸
        function confirmLocationChange() {
            hasLocationChanged = false;
            
            const dialog = document.getElementById('locationChangeDialog');
            if (dialog) dialog.remove();
        }
        
        // ìœ„ì¹˜ ë³€ê²½ ì·¨ì†Œ
        function cancelLocationChange() {
            // ì›ë˜ ìœ„ì¹˜ë¡œ ë³µì›
            if (kakaoMarker && kakaoMap) {
                const originalPosition = new kakao.maps.LatLng(37.5662952, 126.9779451);
                kakaoMarker.setPosition(originalPosition);
                kakaoMap.setCenter(originalPosition);
                
                currentLat = 37.5662952;
                currentLng = 126.9779451;
                document.getElementById('latDisplay').textContent = currentLat.toFixed(7);
                document.getElementById('lngDisplay').textContent = currentLng.toFixed(7);
            }
            
            hasLocationChanged = false;
            
            const dialog = document.getElementById('locationChangeDialog');
            if (dialog) dialog.remove();
        }

        // í˜„ì¬ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
        function getCurrentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const lat = position.coords.latitude;
                        const lng = position.coords.longitude;
                        const newPosition = new kakao.maps.LatLng(lat, lng);
                        
                        if (kakaoMap && kakaoMarker) {
                            kakaoMap.setCenter(newPosition);
                            kakaoMarker.setPosition(newPosition);
                        }
                        
                        updateLocation(lat, lng);
                        showAlert('í˜„ì¬ ìœ„ì¹˜ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤');
                    },
                    (error) => {
                        showAlert('ìœ„ì¹˜ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤');
                    }
                );
            } else {
                showAlert('GPSë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤');
            }
        }

        // ìœ„ì¹˜ ì €ì¥
        function saveLocation() {
            // ë³€ê²½ì‚¬í•­ì´ ìˆìœ¼ë©´ ìµœì¢… í™•ì¸
            if (hasLocationChanged) {
                confirmLocationChange();
            }
            
            isEditingLocation = false;
            
            // ì¹´ì¹´ì˜¤ë§µ ë§ˆì»¤ ë“œë˜ê·¸ ë¹„í™œì„±í™”
            if (kakaoMarker) {
                kakaoMarker.setDraggable(false);
            }
            
            // ì´ë²¤íŠ¸ ì œê±°
            if (kakaoMap) {
                kakao.maps.event.removeListener(kakaoMap, 'click');
            }
            
            // UI ë³µì›
            document.getElementById('mapEditHint').style.display = 'none';
            document.getElementById('locationGPS').style.display = 'none';
            document.getElementById('locationSave').style.display = 'none';
            
            const confirmBtn = document.getElementById('locationConfirm');
            confirmBtn.textContent = 'ìˆ˜ì •ë¨';
            confirmBtn.className = 'btn btn-warning';
            confirmBtn.style.display = 'inline-block';
            confirmBtn.disabled = true;
            
            showAlert(`ìœ„ì¹˜ê°€ ìœ„ë„ ${currentLat.toFixed(7)}, ê²½ë„ ${currentLng.toFixed(7)}ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // ì ê²€ ì‹œì‘
        function startInspection(serialNumber) {
            showAlert(`ì¥ë¹„ ${serialNumber} ì ê²€ì„ ì‹œì‘í•©ë‹ˆë‹¤`);
            document.getElementById('inspectionModal').style.display = 'flex';
            
            // ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” (ì•½ê°„ì˜ ì§€ì—° í›„)
            setTimeout(() => {
                if (!kakaoMap) {
                    initKakaoMap();
                } else {
                    // ë§µì´ ì´ë¯¸ ìˆìœ¼ë©´ ë¦¬ì‚¬ì´ì¦ˆ
                    kakaoMap.relayout();
                }
            }, 100);
        }

        // íŒ€ì› ìƒì„¸ë³´ê¸° ëª¨ë‹¬
        function showMemberDetails(name, total, completed) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 10000;';
            
            const remaining = total - completed;
            const completedList = [];
            const remainingList = [];
            
            // ìƒ˜í”Œ ë°ì´í„° ìƒì„±
            for (let i = 1; i <= completed; i++) {
                completedList.push(`ì„œìš¸ì‹œì²­ ${i}ê´€ - AED #13-000${1000 + i}`);
            }
            for (let i = 1; i <= remaining; i++) {
                remainingList.push(`ê°•ë‚¨êµ¬ì²­ ${i}ë™ - AED #13-000${2000 + i}`);
            }
            
            modal.innerHTML = `
                <div class="modal-content" style="background: #1a1a1a; padding: 30px; border-radius: 12px; width: 600px; max-height: 80vh; overflow-y: auto; border: 1px solid #333;">
                    <h2 style="margin-bottom: 20px; color: #fff;">${name} - ì ê²€ ìƒì„¸ì •ë³´</h2>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div style="background: #222; padding: 15px; border-radius: 8px;">
                            <h3 style="color: #10b981; margin-bottom: 10px;">ì™„ë£Œëœ ì ê²€ (${completed}ê±´)</h3>
                            <ul style="list-style: none; padding: 0; max-height: 200px; overflow-y: auto;">
                                ${completedList.map(item => `<li style="padding: 5px 0; color: #888;">âœ“ ${item}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div style="background: #222; padding: 15px; border-radius: 8px;">
                            <h3 style="color: #f39c12; margin-bottom: 10px;">ëŒ€ê¸° ì¤‘ì¸ ì ê²€ (${remaining}ê±´)</h3>
                            <ul style="list-style: none; padding: 0; max-height: 200px; overflow-y: auto;">
                                ${remainingList.map(item => `<li style="padding: 5px 0; color: #888;">â—‹ ${item}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                    
                    <div style="background: #222; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <h3 style="color: #fff; margin-bottom: 10px;">ì§„í–‰ ìƒí™©</h3>
                        <div style="background: #333; border-radius: 4px; overflow: hidden; height: 30px; margin-bottom: 10px;">
                            <div style="background: linear-gradient(90deg, #10b981, #5aa3f0); height: 100%; width: ${(completed/total*100).toFixed(0)}%; transition: width 0.3s;"></div>
                        </div>
                        <p style="color: #888; text-align: center;">${completed} / ${total} ì™„ë£Œ (${(completed/total*100).toFixed(0)}%)</p>
                    </div>
                    
                    <div style="text-align: right;">
                        <button class="btn btn-secondary" onclick="this.closest('.modal-overlay').remove()">ë‹«ê¸°</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
    </script>
</body>
</html>