# ë°°í¬ ë§ˆìŠ¤í„° ì¸ë±ìŠ¤

**ìž‘ì„±ì¼**: 2025-11-10
**ìƒíƒœ**: ë°°í¬ ì›Œí¬í”Œë¡œìš° ì™„ì„±
**ëŒ€ìƒ ë²„ì „**: 716b39c (ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ì„±ëŠ¥ ë° ì•ˆì •ì„± ê°œì„ )

---

## í•œëˆˆì— ë³´ëŠ” ë°°í¬ í”„ë¡œì„¸ìŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 1: ì½”ë“œ ê²€ì¦ (ì™„ë£Œ)                                        â”‚
â”‚ â”œâ”€ TypeScript íƒ€ìž… ê²€ì‚¬: âœ… PASS                                â”‚
â”‚ â”œâ”€ ESLint ê²€ì‚¬: âœ… PASS                                         â”‚
â”‚ â”œâ”€ í”„ë¡œë•ì…˜ ë¹Œë“œ: âœ… PASS                                       â”‚
â”‚ â””â”€ Git ì»¤ë°‹: âœ… 716b39c (ëª¨ë“  ê²€ì¦ í†µê³¼)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 2: ìŠ¤í…Œì´ì§• ë°°í¬ (ë‹¤ìŒ ë‹¨ê³„)                              â”‚
â”‚ â”œâ”€ ë°°í¬ ê°€ì´ë“œ: DEPLOY_TO_STAGING.md                           â”‚
â”‚ â”œâ”€ ë¹ ë¥¸ ì‹œìž‘: STAGING_TEST_QUICK_START.md                      â”‚
â”‚ â””â”€ ì˜ˆìƒ ì†Œìš”ì‹œê°„: 5-10ë¶„                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 3: ìŠ¤í…Œì´ì§• í…ŒìŠ¤íŠ¸ (1-2ì‹œê°„)                             â”‚
â”‚ â”œâ”€ Test 1: ë¡œê·¸ì¸ ì„±ëŠ¥ (15ë¶„)                                  â”‚
â”‚ â”œâ”€ Test 2: ë¡œê·¸ì•„ì›ƒ ì•ˆì •ì„± (15ë¶„)                             â”‚
â”‚ â”œâ”€ Test 3: ë¯¼ê°ì •ë³´ í•„í„°ë§ (10ë¶„)                             â”‚
â”‚ â”œâ”€ Test 4: í”„ë¡œí•„ í´ë°± (10ë¶„)                                 â”‚
â”‚ â”œâ”€ ê²°ê³¼ ê¸°ë¡: STAGING_TEST_RESULTS.md                         â”‚
â”‚ â””â”€ ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ í•„ìˆ˜                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 4: í”„ë¡œë•ì…˜ ë°°í¬ (5-10ë¶„)                               â”‚
â”‚ â”œâ”€ ë°°í¬ ê°€ì´ë“œ: PRODUCTION_DEPLOYMENT_GUIDE.md                â”‚
â”‚ â”œâ”€ ë°©ë²• 1: GitHub Actions (ê¶Œìž¥)                              â”‚
â”‚ â”œâ”€ ë°©ë²• 2: SSH ìˆ˜ë™ ë°°í¬                                      â”‚
â”‚ â””â”€ ë‹¤ìš´íƒ€ìž„: 0ì´ˆ (PM2 rolling restart)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 5: ë°°í¬ í›„ ëª¨ë‹ˆí„°ë§ (1ì‹œê°„)                             â”‚
â”‚ â”œâ”€ ì¦‰ì‹œ ê²€ì¦ (1ë¶„): PM2 ìƒíƒœ, HTTP ì‘ë‹µ                       â”‚
â”‚ â”œâ”€ 5ë¶„ í›„ ê²€ì¦: ìž¬ì‹œìž‘ íšŸìˆ˜, ì—ëŸ¬ ë¡œê·¸                        â”‚
â”‚ â”œâ”€ 15ë¶„ í›„ ê²€ì¦: DB ì—°ê²°, ë¡œê·¸ì¸ íŽ˜ì´ì§€                       â”‚
â”‚ â””â”€ 1ì‹œê°„ í›„ ê²€ì¦: ìµœì¢… ì•ˆì •ì„± í™•ì¸                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… ë°°í¬ ì™„ë£Œ! ì‚¬ìš©ìžë“¤ì´ ì„±ëŠ¥ ê°œì„ ì„ ê²½í—˜í•˜ê¸° ì‹œìž‘í•©ë‹ˆë‹¤.
```

---

## ë°°í¬ ë¬¸ì„œ ë§µ

### 1ë‹¨ê³„: ì¤€ë¹„ ë° ê²€ì¦

| ë¬¸ì„œ | ëª©ì  | ìƒíƒœ | ì°¸ê³  |
|------|------|------|------|
| [docs/testing/CODE_VALIDATION_CHECKLIST.md](docs/testing/CODE_VALIDATION_CHECKLIST.md) | ëª¨ë“  ì½”ë“œ ë³€ê²½ì‚¬í•­ ê²€ì¦ | âœ… ì™„ë£Œ | 467ì¤„, ìƒì„¸ ë¶„ì„ |
| [docs/testing/DEPLOYMENT_READINESS_REPORT.md](docs/testing/DEPLOYMENT_READINESS_REPORT.md) | ë°°í¬ ì¤€ë¹„ ìƒíƒœ ë³´ê³ ì„œ | âœ… ì™„ë£Œ | 388ì¤„, Executive Summary |
| [docs/troubleshooting/LOGIN_LOGOUT_DIAGNOSIS.md](docs/troubleshooting/LOGIN_LOGOUT_DIAGNOSIS.md) | ê·¼ë³¸ ì›ì¸ ë¶„ì„ | âœ… ì™„ë£Œ | 489ì¤„, ì‹¬ì¸µ ë¶„ì„ |
| [docs/troubleshooting/LOGIN_LOGOUT_FIXES_APPLIED.md](docs/troubleshooting/LOGIN_LOGOUT_FIXES_APPLIED.md) | ì ìš©ëœ ìˆ˜ì •ì‚¬í•­ | âœ… ì™„ë£Œ | 344ì¤„, Before/After |

**í˜„ìž¬ ìƒíƒœ**: Phase 1 ì™„ë£Œ âœ…

---

### 2ë‹¨ê³„: ìŠ¤í…Œì´ì§• ë°°í¬

| ë¬¸ì„œ | ëª©ì  | ì†Œìš”ì‹œê°„ | ì°¸ê³  |
|------|------|----------|------|
| **[DEPLOY_TO_STAGING.md](DEPLOY_TO_STAGING.md)** | ìŠ¤í…Œì´ì§• ë°°í¬ ìƒì„¸ ê°€ì´ë“œ | 5-10ë¶„ | ðŸ“Œ **ì§€ê¸ˆ ì—¬ê¸°ì„œ ì‹œìž‘í•˜ì„¸ìš”** |
| ìžë™ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ | `scripts/deploy-staging.sh` | ìžë™ ì‹¤í–‰ | `chmod +x` í›„ ì‹¤í–‰ |
| í™˜ê²½ í™•ì¸ | Pre-deployment checklist | 1ë¶„ | git, npm, Node.js í™•ì¸ |

**ë‹¤ìŒ ìž‘ì—…**:
```bash
# SSHë¡œ ìŠ¤í…Œì´ì§• ì„œë²„ ì ‘ì†
ssh user@staging-server

# ë°°í¬ ëª…ë ¹ì–´ 3ê°€ì§€ ì¤‘ ì„ íƒ ì‹¤í–‰:

# ë°©ë²• 1: ì™„ì „ ìžë™í™” (ê¶Œìž¥)
cat > /tmp/deploy-staging.sh << 'EOF'
# [DEPLOY_TO_STAGING.mdì˜ ìžë™í™” ìŠ¤í¬ë¦½íŠ¸ ë³µì‚¬]
EOF
chmod +x /tmp/deploy-staging.sh
/tmp/deploy-staging.sh

# ë°©ë²• 2: í•œ ì¤„ ëª…ë ¹ì–´
cd /var/www/aedpics-staging && git fetch origin && git checkout origin/main && npm ci --production && npx prisma generate && NODE_ENV=production npm run build && pm2 reload ecosystem.config.cjs && pm2 status

# ë°©ë²• 3: ë‹¨ê³„ë³„ ìˆ˜ë™
# DEPLOY_TO_STAGING.mdì˜ "ë°©ë²• 3: ìˆ˜ë™ ë‹¨ê³„ë³„" ì°¸ì¡°
```

**í˜„ìž¬ ìƒíƒœ**: Phase 2 ì¤€ë¹„ ì™„ë£Œ â³

---

### 3ë‹¨ê³„: ìŠ¤í…Œì´ì§• í…ŒìŠ¤íŠ¸

| ë¬¸ì„œ | ëª©ì  | ì†Œìš”ì‹œê°„ | ì™„ë£Œ ê¸°ì¤€ |
|------|------|----------|----------|
| [docs/testing/STAGING_TEST_GUIDE.md](docs/testing/STAGING_TEST_GUIDE.md) | ìƒì„¸ í…ŒìŠ¤íŠ¸ ì ˆì°¨ | 1-2ì‹œê°„ | 4ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼ |
| **[STAGING_TEST_QUICK_START.md](STAGING_TEST_QUICK_START.md)** | ë¹ ë¥¸ ì‹œìž‘ ê°€ì´ë“œ | 30ë¶„ | âš¡ ë¹ ë¥¸ ì°¸ê³  |
| **[STAGING_TEST_RESULTS.md](STAGING_TEST_RESULTS.md)** | ê²°ê³¼ ê¸°ë¡ í…œí”Œë¦¿ | ìž‘ì„±ì‹œê°„ | ðŸ“ **ê²°ê³¼ ìž‘ì„± í•„ìˆ˜** |

**í•„ìˆ˜ í…ŒìŠ¤íŠ¸ 4ê°€ì§€**:
```
Test 1: ë¡œê·¸ì¸ ì„±ëŠ¥
  â””â”€ ìŠ¤í”¼ë„ˆ í‘œì‹œ < 200ms, ì „ì²´ < 2ì´ˆ

Test 2: ë¡œê·¸ì•„ì›ƒ ì•ˆì •ì„±
  â””â”€ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œì—ë„ /auth/signin ì´ë™

Test 3: ë¯¼ê°ì •ë³´ í•„í„°ë§
  â””â”€ API ì‘ë‹µì— password_hash ë“± ì—†ìŒ

Test 4: í”„ë¡œí•„ í´ë°±
  â””â”€ í”„ë¡œí•„ ë¡œë“œ ì‹¤íŒ¨ ì‹œ /dashboardë¡œ ìžë™ ì´ë™
```

**í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```
â–¡ ë°°í¬ ì§í›„ ì„œë²„ ìƒíƒœ í™•ì¸ (pm2 status, curl)
â–¡ Test 1 ì‹¤í–‰ ë° ê¸°ë¡
â–¡ Test 2 ì‹¤í–‰ ë° ê¸°ë¡
â–¡ Test 3 ì‹¤í–‰ ë° ê¸°ë¡
â–¡ Test 4 ì‹¤í–‰ ë° ê¸°ë¡
â–¡ STAGING_TEST_RESULTS.md ì™„ì„±
â–¡ ëª¨ë“  í…ŒìŠ¤íŠ¸ "í†µê³¼" í‘œì‹œ í™•ì¸
```

**í˜„ìž¬ ìƒíƒœ**: Phase 3 ì¤€ë¹„ ì™„ë£Œ â³

---

### 4ë‹¨ê³„: í”„ë¡œë•ì…˜ ë°°í¬

| ë¬¸ì„œ | ëª©ì  | ë°©ë²• | ì†Œìš”ì‹œê°„ |
|------|------|------|----------|
| **[PRODUCTION_DEPLOYMENT_GUIDE.md](PRODUCTION_DEPLOYMENT_GUIDE.md)** | í”„ë¡œë•ì…˜ ë°°í¬ ê°€ì´ë“œ | 2ê°€ì§€ | 5-10ë¶„ |
| | ë°©ë²• 1: GitHub Actions | ìžë™í™” | ê¶Œìž¥ â­ |
| | ë°©ë²• 2: SSH ìˆ˜ë™ | ìˆ˜ë™ | ì§ì ‘ ì œì–´ |
| ë°°í¬ í›„ ê²€ì¦ | 1ì‹œê°„ ëª¨ë‹ˆí„°ë§ | ìžë™ | 5/15ë¶„/1ì‹œê°„ ì²´í¬ |

**ë°°í¬ ì „ í•„ìˆ˜ í™•ì¸**:
```
â–¡ ìŠ¤í…Œì´ì§• í…ŒìŠ¤íŠ¸ 4ê°œ ëª¨ë‘ í†µê³¼
â–¡ STAGING_TEST_RESULTS.mdì—ì„œ ìµœì¢… íŒì • "í†µê³¼"
â–¡ ê²€í† ìž ìŠ¹ì¸ ì„œëª… ìžˆìŒ
â–¡ ë°°í¬ ì‹œê°„ëŒ€ í™•ì¸ (ì—…ë¬´ ì‹œê°„ ê¶Œìž¥)
```

**GitHub Actions ë°°í¬** (ê¶Œìž¥):
```bash
# ë¡œì»¬ì—ì„œ í‘¸ì‹œë§Œ ì‹¤í–‰
git push origin main

# GitHub > Actions íƒ­ì—ì„œ ë°°í¬ workflow ëª¨ë‹ˆí„°ë§
# ìžë™ìœ¼ë¡œ ë°°í¬ ì§„í–‰ (5-10ë¶„ ì†Œìš”)
```

**SSH ìˆ˜ë™ ë°°í¬**:
```bash
# ìŠ¤í…Œì´ì§•ì—ì„œ í”„ë¡œë•ì…˜ìœ¼ë¡œ ë³µì‚¬
ssh prod-server
cd /var/www/aedpics
git fetch origin && git checkout origin/main
npm ci --production
npx prisma generate
NODE_ENV=production npm run build
pm2 reload ecosystem.config.cjs
pm2 status
```

**í˜„ìž¬ ìƒíƒœ**: Phase 4 ì¤€ë¹„ ì™„ë£Œ â³

---

### 5ë‹¨ê³„: ë°°í¬ í›„ ëª¨ë‹ˆí„°ë§

| ì‹œì  | ìž‘ì—… | í™•ì¸ í•­ëª© | ì‹œê°„ |
|------|------|---------|------|
| ì¦‰ì‹œ (1ë¶„) | PM2 ìƒíƒœ, HTTP 200 | status online, no errors | 1-2ë¶„ |
| 5ë¶„ í›„ | ìž¬ì‹œìž‘ íšŸìˆ˜, ì—ëŸ¬ ë¡œê·¸ | restarts ë³€í™” ì—†ìŒ | 1-2ë¶„ |
| 15ë¶„ í›„ | DB ì—°ê²°, ë¡œê·¸ì¸ íŽ˜ì´ì§€ | API ì‘ë‹µ ì •ìƒ | 1-2ë¶„ |
| 1ì‹œê°„ í›„ | ìµœì¢… ìƒíƒœ, ì‚¬ìš©ìž í”¼ë“œë°± | ì•ˆì •ì  ìš´ì˜ | 5ë¶„ |

**ë°°í¬ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```
â–¡ 1ë¶„: pm2 status â†’ online, curl â†’ 200
â–¡ 5ë¶„: pm2 status â†’ no new restarts, pm2 logs â†’ no errors
â–¡ 15ë¶„: HTTP 200, ë¡œê·¸ì¸ ê°€ëŠ¥, ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
â–¡ 1ì‹œê°„: ìµœì¢… ëª¨ë‹ˆí„°ë§, ì‚¬ìš©ìž í”¼ë“œë°± ìˆ˜ì§‘
â–¡ ë°°í¬ ë³´ê³ ì„œ ìž‘ì„± ë° ë³´ê´€
```

**í˜„ìž¬ ìƒíƒœ**: Phase 5 ì¤€ë¹„ ì™„ë£Œ â³

---

## ë°°í¬ ì¼ì • ê³„íš

### ê¶Œìž¥ íƒ€ìž„ë¼ì¸

```
Day 1 (ìŠ¤í…Œì´ì§•):
09:00 - 09:15 (15ë¶„): DEPLOY_TO_STAGING.md ë”°ë¼ ë°°í¬
09:15 - 11:15 (2ì‹œê°„): STAGING_TEST_GUIDE.mdë¡œ í…ŒìŠ¤íŠ¸
11:15 - 11:30 (15ë¶„): STAGING_TEST_RESULTS.md ìž‘ì„± ë° ê²€í† 

Day 2 (í”„ë¡œë•ì…˜):
09:00 - 09:05 (5ë¶„): ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ í™•ì¸
09:05 - 09:15 (10ë¶„): PRODUCTION_DEPLOYMENT_GUIDE.mdë¡œ ë°°í¬
09:15 - 10:15 (1ì‹œê°„): ë°°í¬ í›„ ëª¨ë‹ˆí„°ë§
10:15 - 10:30 (15ë¶„): ë°°í¬ ë³´ê³ ì„œ ìž‘ì„±
```

### ì˜ˆìƒ ë°°í¬ ì¼ì •

```
ìŠ¤í…Œì´ì§• ë°°í¬: ___ë…„ ___ì›” ___ì¼ ___ì‹œ (Day 1)
ìŠ¤í…Œì´ì§• í…ŒìŠ¤íŠ¸: ë™ì¼ì¼ 2-3ì‹œê°„
í…ŒìŠ¤íŠ¸ ì™„ë£Œ: ___ë…„ ___ì›” ___ì¼ ___ì‹œ

í”„ë¡œë•ì…˜ ë°°í¬: ___ë…„ ___ì›” ___ì¼ ___ì‹œ (Day 2 ì´í›„)
ëª¨ë‹ˆí„°ë§ ì™„ë£Œ: ___ë…„ ___ì›” ___ì¼ ___ì‹œ
ë°°í¬ ì™„ë£Œ ê³µì§€: ___ë…„ ___ì›” ___ì¼ ___ì‹œ
```

---

## ë°°í¬ ë‹´ë‹¹ìžë³„ ì—­í• 

### ë°°í¬ ì—”ì§€ë‹ˆì–´

```
1ï¸âƒ£ ìŠ¤í…Œì´ì§• ë°°í¬ (30ë¶„)
   - DEPLOY_TO_STAGING.md ë”°ë¼ ì‹¤í–‰
   - ë°°í¬ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
   - ë°°í¬ ì™„ë£Œ í™•ì¸

2ï¸âƒ£ ë°°í¬ ë¡œê·¸ ì œê³µ (ì¦‰ì‹œ)
   - pm2 status ê²°ê³¼
   - PM2 ë¡œê·¸ í™•ì¸ ê²°ê³¼
   - ë°°í¬ ë¬¸ì œ ì‚¬í•­

3ï¸âƒ£ í”„ë¡œë•ì…˜ ë°°í¬ (30ë¶„)
   - PRODUCTION_DEPLOYMENT_GUIDE.md ë”°ë¼ ì‹¤í–‰
   - ë°°í¬ ë°©ë²• ì„ íƒ (GitHub Actions ë˜ëŠ” SSH)
   - ë°°í¬ í›„ ì¦‰ì‹œ ëª¨ë‹ˆí„°ë§
```

### í…ŒìŠ¤íŠ¸ ë‹´ë‹¹ìž

```
1ï¸âƒ£ ìŠ¤í…Œì´ì§• í…ŒìŠ¤íŠ¸ (2ì‹œê°„)
   - STAGING_TEST_QUICK_START.mdë¡œ ë¹ ë¥¸ ì‹œìž‘
   - STAGING_TEST_GUIDE.mdë¡œ ìƒì„¸ í…ŒìŠ¤íŠ¸
   - ëª¨ë“  4ê°€ì§€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

2ï¸âƒ£ ê²°ê³¼ ê¸°ë¡ (30ë¶„)
   - STAGING_TEST_RESULTS.md ìž‘ì„±
   - ì„±ëŠ¥ ì¸¡ì •ê°’ ê¸°ë¡
   - í†µê³¼/ë¯¸í†µê³¼ í‘œì‹œ

3ï¸âƒ£ í…ŒìŠ¤íŠ¸ ë³´ê³  (15ë¶„)
   - "ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼" í™•ì¸
   - ë°°í¬ ë‹´ë‹¹ìžì— ë³´ê³ 
   - í”„ë¡œë•ì…˜ ë°°í¬ ìŠ¹ì¸
```

### ëª¨ë‹ˆí„°ë§ ë‹´ë‹¹ìž

```
1ï¸âƒ£ ë°°í¬ ì¤‘ ëª¨ë‹ˆí„°ë§
   - ë°°í¬ ì™„ë£Œ ëŒ€ê¸°
   - ë°°í¬ ë¡œê·¸ ëª¨ë‹ˆí„°ë§

2ï¸âƒ£ ë°°í¬ í›„ ëª¨ë‹ˆí„°ë§ (1ì‹œê°„)
   - ì¦‰ì‹œ: pm2 status, curl
   - 5ë¶„: ìž¬ì‹œìž‘ íšŸìˆ˜
   - 15ë¶„: DB ì—°ê²°
   - 1ì‹œê°„: ìµœì¢… í™•ì¸

3ï¸âƒ£ ì‚¬ìš©ìž í”¼ë“œë°±
   - ë¡œê·¸ì¸ ì†ë„ ê°œì„  ì—¬ë¶€
   - ë¡œê·¸ì•„ì›ƒ ì •ìƒ ìž‘ë™
   - ì—ëŸ¬ ë˜ëŠ” ë¬¸ì œ ì‚¬í•­
```

### í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €

```
1ï¸âƒ£ ë°°í¬ ì¼ì • ê´€ë¦¬
   - ìŠ¤í…Œì´ì§• ë°°í¬ ì¼ì • ê³µì§€
   - í”„ë¡œë•ì…˜ ë°°í¬ ì¼ì • ê³µì§€

2ï¸âƒ£ ìŠ¹ì¸ ê´€ë¦¬
   - ìŠ¤í…Œì´ì§• í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê²€í† 
   - í”„ë¡œë•ì…˜ ë°°í¬ ìŠ¹ì¸

3ï¸âƒ£ ë°°í¬ í›„ ê³µì§€
   - ì‚¬ìš©ìžì— ì„±ëŠ¥ ê°œì„  ê³µì§€
   - ë¡œê·¸ì•„ì›ƒ ë¬¸ì œ í•´ê²° ì•ˆë‚´
```

---

## ë°°í¬ ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘

### ë‚®ì€ ë¦¬ìŠ¤í¬ (ê±°ì˜ ë°œìƒ ì•ˆ í•¨)

```
â™»ï¸ ë¹Œë“œ ì‹¤íŒ¨
   ì›ì¸: node_modules ìºì‹œ ì˜¤ì—¼
   ëŒ€ì‘: npm ci --production ìž¬ì‹¤í–‰
   ì†Œìš”ì‹œê°„: 3-5ë¶„

âš™ï¸ PM2 ìž¬ì‹œìž‘ ì§€ì—°
   ì›ì¸: ë©”ëª¨ë¦¬ ë¶€ì¡±
   ëŒ€ì‘: pm2 flush, ìž¬ì‹œìž‘
   ì†Œìš”ì‹œê°„: 1-2ë¶„
```

### ì¤‘ê°„ ë¦¬ìŠ¤í¬ (ë°œìƒ ê°€ëŠ¥ì„± ìžˆìŒ)

```
ðŸ”§ ìƒˆë¡œìš´ ì—ëŸ¬ ë¡œê·¸
   ì›ì¸: ì˜ˆìƒì¹˜ ëª»í•œ ë²„ê·¸
   ëŒ€ì‘: ë¡¤ë°± (git reset --hard HEAD~1)
   ì†Œìš”ì‹œê°„: 5-10ë¶„

â±ï¸ ì„±ëŠ¥ ê°œì„  ë¯¸í¡
   ì›ì¸: ì„œë²„ ì„±ëŠ¥ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬
   ëŒ€ì‘: ì„œë²„ ìž¬ì‹œìž‘, DB ìµœì í™”
   ì†Œìš”ì‹œê°„: 10-20ë¶„
```

### ë†’ì€ ë¦¬ìŠ¤í¬ (ì¦‰ì‹œ ëŒ€ì‘ í•„ìˆ˜)

```
ðŸ”´ PM2 status = "errored"
   ì›ì¸: ë¹Œë“œ ì‹¤íŒ¨, í™˜ê²½ë³€ìˆ˜ ëˆ„ë½
   ëŒ€ì‘: ì¦‰ì‹œ ë¡¤ë°±, ì›ì¸ ë¶„ì„
   ì†Œìš”ì‹œê°„: 5ë¶„ (ê¸´ê¸‰)

ðŸ”´ HTTP 502 Bad Gateway
   ì›ì¸: ì• í”Œë¦¬ì¼€ì´ì…˜ í¬ëž˜ì‹œ
   ëŒ€ì‘: ì¦‰ì‹œ ë¡¤ë°±, PM2 ìž¬ì‹œìž‘
   ì†Œìš”ì‹œê°„: 5ë¶„ (ê¸´ê¸‰)
```

### ê¸´ê¸‰ ë¡¤ë°±

```bash
# ë‹¨ 2ê°œ ëª…ë ¹ì–´ë¡œ ì´ì „ ë²„ì „ ë³µêµ¬ ê°€ëŠ¥
git reset --hard HEAD~1
pm2 reload ecosystem.config.cjs

# ì™„ë£Œ: 1-2ë¶„ (ëŒ€ë¶€ë¶„ì˜ ë¬¸ì œ í•´ê²°)
```

---

## ë°°í¬ ì „ ìµœì¢… ì²´í¬

### ì¶œë°œ ì „ í•„ìˆ˜ í™•ì¸ (5ë¶„)

```bash
# 1. ì½”ë“œ ìƒíƒœ í™•ì¸
git log --oneline -1
# ê²°ê³¼: 716b39c

git status
# ê²°ê³¼: working tree clean

# 2. ì»¤ë°‹ ë‚´ìš© í™•ì¸
git show 716b39c --stat
# 5ê°œ íŒŒì¼ ìˆ˜ì •ë¨

# 3. ë¹Œë“œ ìƒíƒœ í™•ì¸
npm run tsc && npm run lint && npm run build
# ê²°ê³¼: ëª¨ë‘ PASS

# âœ… ëª¨ë“  í™•ì¸ ì™„ë£Œ!
```

### ë°°í¬ ë‹´ë‹¹ìž ì²´í¬ë¦¬ìŠ¤íŠ¸

```
â–¡ ì½”ë“œ ê²€ì¦ ì™„ë£Œ (npm run tsc, lint, build ëª¨ë‘ í†µê³¼)
â–¡ ì»¤ë°‹ ID 716b39c í™•ì¸
â–¡ ìŠ¤í…Œì´ì§• ë°°í¬ ë¬¸ì„œ ì¤€ë¹„ (DEPLOY_TO_STAGING.md)
â–¡ í…ŒìŠ¤íŠ¸ ë¬¸ì„œ ì¤€ë¹„ (STAGING_TEST_QUICK_START.md)
â–¡ ê²°ê³¼ ê¸°ë¡ í…œí”Œë¦¿ ì¤€ë¹„ (STAGING_TEST_RESULTS.md)
â–¡ í”„ë¡œë•ì…˜ ë°°í¬ ë¬¸ì„œ ì¤€ë¹„ (PRODUCTION_DEPLOYMENT_GUIDE.md)

â–¡ ë°°í¬ ì¼ì • í™•ì¸ (ìŠ¤í…Œì´ì§•: ___ì›” ___ì¼, í”„ë¡œë•ì…˜: ___ì›” ___ì¼)
â–¡ ë‹´ë‹¹ìž í™•ì¸ (ë°°í¬, í…ŒìŠ¤íŠ¸, ëª¨ë‹ˆí„°ë§, PM)
â–¡ ë¡¤ë°± ê³„íš ì´í•´ (2ê°œ ëª…ë ¹ì–´ë¡œ 5ë¶„ ë‚´ ë³µêµ¬)
â–¡ íŒ€ì› ê³µì§€ ì™„ë£Œ
```

---

## ë°°í¬ ì„±ê³µì˜ ì •ì˜

### ìŠ¤í…Œì´ì§• ë°°í¬ ì„±ê³µ
```
âœ… PM2 status: online (redê°€ ì•„ë‹˜)
âœ… HTTP ì‘ë‹µ: 200 OK
âœ… ì—ëŸ¬ ë¡œê·¸: ì—†ìŒ (ë˜ëŠ” ë°°í¬ ì „ ì—ëŸ¬ë§Œ)
âœ… ëª¨ë“  4ê°€ì§€ í…ŒìŠ¤íŠ¸: í†µê³¼
âœ… STAGING_TEST_RESULTS.md: ìž‘ì„± ì™„ë£Œ ë° ìŠ¹ì¸
```

### í”„ë¡œë•ì…˜ ë°°í¬ ì„±ê³µ
```
âœ… GitHub Actions ë˜ëŠ” SSH: ë°°í¬ ì™„ë£Œ
âœ… PM2 status: online, restarts ë³€í™” ì—†ìŒ
âœ… HTTP ì‘ë‹µ: 200 OK
âœ… ì—ëŸ¬ ë¡œê·¸: ì—†ìŒ
âœ… 1ì‹œê°„ ëª¨ë‹ˆí„°ë§: ì•ˆì •ì 
âœ… ì‚¬ìš©ìž í”¼ë“œë°±: ê¸ì •ì  (ì†ë„ ê°œì„  í™•ì¸)
âœ… ë°°í¬ ë³´ê³ ì„œ: ìž‘ì„± ë° ë³´ê´€
```

---

## ë°°í¬ í›„ ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ (ë°°í¬ ë‹¹ì¼)
```
1. ì‚¬ìš©ìž ê³µì§€ (ì„ íƒ)
   - "ë¡œê·¸ì¸ ì„±ëŠ¥ì´ 60-75% ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤"
   - "ë¡œê·¸ì•„ì›ƒ ë¬¸ì œê°€ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤"

2. ëª¨ë‹ˆí„°ë§
   - 1ì‹œê°„ ì§‘ì¤‘ ëª¨ë‹ˆí„°ë§
   - ì—ëŸ¬ ë¡œê·¸ í™•ì¸
   - ì‚¬ìš©ìž í”¼ë“œë°± ìˆ˜ì§‘
```

### ë‹¨ê¸° (1ì£¼ì¼)
```
1. ì„±ëŠ¥ ë¶„ì„
   - ì‹¤ì œ ì‚¬ìš©ìžì˜ ë¡œê·¸ì¸ ì‹œê°„ ì¸¡ì •
   - ì—ëŸ¬ìœ¨ ì¶”ì 

2. í”¼ë“œë°± ìˆ˜ì§‘
   - ì‚¬ìš©ìž ë§Œì¡±ë„ ì¡°ì‚¬
   - ì¶”ê°€ ê°œì„  ì‚¬í•­ ê²€í† 
```

### ìž¥ê¸° (1ê°œì›”)
```
1. ì„±ëŠ¥ ë¦¬í¬íŠ¸
   - ì˜ˆìƒ vs ì‹¤ì œ ê°œì„ ë„ ë¹„êµ
   - ì¶”ê°€ ìµœì í™” ê¸°íšŒ ì‹ë³„

2. ë¬¸ì„œ ì •ë¦¬
   - ë°°í¬ ê²½í—˜ ê¸°ë¡
   - í–¥í›„ ë°°í¬ë¥¼ ìœ„í•œ ê°œì„  ì‚¬í•­
```

---

## ë°°í¬ ë¬¸ì„œ ë‹¤ìš´ë¡œë“œ ëª©ë¡

**í•„ìˆ˜ ë¬¸ì„œ** (ë°˜ë“œì‹œ ë‹¤ìš´ë¡œë“œ):
```
â–¡ DEPLOY_TO_STAGING.md (347ì¤„)
â–¡ STAGING_TEST_QUICK_START.md (210ì¤„)
â–¡ STAGING_TEST_RESULTS.md (í…œí”Œë¦¿)
â–¡ PRODUCTION_DEPLOYMENT_GUIDE.md (450ì¤„)
â–¡ DEPLOYMENT_MASTER_INDEX.md (í˜„ìž¬ ë¬¸ì„œ)
```

**ì°¸ê³  ë¬¸ì„œ** (ë°°í¬ ì¤‘ í•„ìš”ì‹œ):
```
â–¡ docs/testing/CODE_VALIDATION_CHECKLIST.md (467ì¤„)
â–¡ docs/testing/DEPLOYMENT_READINESS_REPORT.md (388ì¤„)
â–¡ docs/troubleshooting/LOGIN_LOGOUT_DIAGNOSIS.md (489ì¤„)
â–¡ docs/troubleshooting/LOGIN_LOGOUT_FIXES_APPLIED.md (344ì¤„)
â–¡ docs/testing/STAGING_TEST_GUIDE.md (575ì¤„)
```

---

## ë¹ ë¥¸ ì°¸ê³  (í•œëˆˆì— ë³´ê¸°)

### ìŠ¤í…Œì´ì§• ë°°í¬ (ë°©ë²• 1: ìžë™)
```bash
ssh user@staging-server
cat > /tmp/deploy.sh << 'EOF'
#!/bin/bash
set -e
cd /var/www/aedpics-staging
git fetch origin && git checkout origin/main
npm ci --production
npx prisma generate
NODE_ENV=production npm run build
pm2 reload ecosystem.config.cjs
pm2 status
EOF
chmod +x /tmp/deploy.sh && /tmp/deploy.sh
```

### ìŠ¤í…Œì´ì§• ë°°í¬ (ë°©ë²• 2: í•œ ì¤„)
```bash
cd /var/www/aedpics-staging && git fetch origin && git checkout origin/main && npm ci --production && npx prisma generate && NODE_ENV=production npm run build && pm2 reload ecosystem.config.cjs && pm2 status
```

### í”„ë¡œë•ì…˜ ë°°í¬ (GitHub Actions)
```bash
git push origin main
# GitHub Actionsì—ì„œ ìžë™ ë°°í¬
```

### í”„ë¡œë•ì…˜ ë°°í¬ (SSH)
```bash
ssh prod-server
cd /var/www/aedpics && git fetch origin && git checkout origin/main && npm ci --production && npx prisma generate && NODE_ENV=production npm run build && pm2 reload ecosystem.config.cjs && pm2 status
```

### ë°°í¬ í›„ ê²€ì¦
```bash
pm2 status                # status: online í™•ì¸
curl -I https://aed.pics  # HTTP 200 í™•ì¸
pm2 logs --err            # ì—ëŸ¬ ì—†ìŒ í™•ì¸
```

### ê¸´ê¸‰ ë¡¤ë°± (1ë¶„ ë‚´)
```bash
git reset --hard HEAD~1
pm2 reload ecosystem.config.cjs
```

---

## ì§€ì› ë° ë¬¸ì˜

### ë°°í¬ ë¬¸ì œ ë°œìƒ ì‹œ

```
1. ìµœê·¼ ì—ëŸ¬ í™•ì¸
   pm2 logs --err --lines 100

2. ë¹Œë“œ ìž¬ê²€ì¦
   npm run build

3. ë¡¤ë°± (ê¸´ê¸‰)
   git reset --hard HEAD~1 && pm2 reload ecosystem.config.cjs

4. ì›ì¸ ë¶„ì„ ë¬¸ì„œ
   PRODUCTION_DEPLOYMENT_GUIDE.mdì˜ "ë°°í¬ ì‹¤íŒ¨ ì‹œ ê¸´ê¸‰ ëŒ€ì‘"
```

### ì„±ëŠ¥ ê°œì„  í™•ì¸

```
ë¡œê·¸ì¸ ì„±ëŠ¥:
- ë³€ê²½ ì „: 3-5ì´ˆ
- ë³€ê²½ í›„: 1-2ì´ˆ (ëª©í‘œ)
- ìŠ¤í”¼ë„ˆ í‘œì‹œ: 100ms ì´ë‚´ (ëª©í‘œ)

ë¡œê·¸ì•„ì›ƒ ì•ˆì •ì„±:
- ë³€ê²½ ì „: ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ ê°‡íž˜
- ë³€ê²½ í›„: í•­ìƒ /auth/signinìœ¼ë¡œ ì´ë™
```

---

**ë°°í¬ ì¤€ë¹„ ì™„ë£Œ!**

ìœ„ ê°€ì´ë“œë¥¼ ë”°ë¼ ì§„í–‰í•˜ë©´ ì•ˆì „í•˜ê³  ì„±ê³µì ì¸ ë°°í¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ë‹¤ìŒ ë‹¨ê³„: DEPLOY_TO_STAGING.mdë¥¼ ì—´ê³  ìŠ¤í…Œì´ì§• ë°°í¬ë¥¼ ì‹œìž‘í•˜ì„¸ìš”.

