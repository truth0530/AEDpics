# Phase 2 인수인계 & Phase 3 준비 병렬 진행 계획

**상태**: 2025-11-07
**목표**: Phase 2 운영 팀 이양과 Phase 3 기술 준비를 동시에 진행
**소요 시간**: 2주 (2025-11-07 ~ 2025-11-21)

---

## 1. 병렬 진행 구조

```
Phase 2: 운영팀 담당
├─ 문서 배포 (2025-11-07 ~ 11-08)
├─ 사용자 교육 (2025-11-09 ~ 11-15)
├─ 헬프데스크 준비 (2025-11-10 ~ 11-15)
├─ 모니터링 시작 (2025-11-07 지속)
└─ 피드백 수집 (2025-11-07 지속)

Phase 3: 개발팀 담당
├─ e-gen 동기화 설계 (2025-11-07 ~ 11-14)
├─ 스토리지 마이그레이션 기획 (2025-11-07 ~ 11-14)
├─ 통계 대시보드 요구사항 정의 (2025-11-10 ~ 11-14)
├─ 개발 환경 준비 (2025-11-14 ~ 11-21)
└─ Phase 3 정식 승인 대기 (2025-11-21)
```

---

## 2. Phase 2: 운영팀 인수인계 (병렬 진행)

### 2.1 즉시 (2025-11-07 ~ 11-08)
**담당**: 운영팀
**산출물**: MODE_TOGGLE_USAGE_GUIDE.md 배포

#### 작업
- [ ] MODE_TOGGLE_USAGE_GUIDE.md를 PDF로 변환
- [ ] 보건소 운영 포털에 게시
- [ ] 모든 보건소 담당자에게 이메일 발송 (템플릿 준비됨)
- [ ] 문의 채널 공지 (help@nmc.or.kr)

#### 확인 사항
```
발송 현황:
- 대상 보건소: 250개
- 발송 방법: 이메일 + 포털 게시
- 예상 도달율: 80% 이상
- 피드백 채널: 별도 양식 또는 이메일
```

### 2.2 교육 단계 (2025-11-09 ~ 11-15)
**담당**: 운영팀
**산출물**: 교육 자료, 녹화 영상

#### 작업
- [ ] 30분 PPT 교육 자료 준비
  - Slide 1-3: 모드 토글의 의미
  - Slide 4-6: 두 결과가 다른 이유
  - Slide 7-8: 화면 조작 방법
  - Slide 9: FAQ 요약
- [ ] 온라인 라이브 교육 실시
  - 일정: 2025-11-10 (월) 10:00 KST (약속 필요)
  - 인원: 250개 보건소 담당자
  - 플랫폼: Zoom 또는 Teams
- [ ] 교육 녹화 후 YouTube/포털에 게시
- [ ] 교육 자료 PDF 배포

#### 교육 효과 측정
```
참여 지표:
- 예상 참여율: 60% 이상 (150명+)
- 예상 체팅 질문: 10~20개
- FAQ 추가 수집

교육 후 평가:
- 설문조사 (5문항, 5점 척도)
- 만족도 목표: 4점 이상
```

### 2.3 헬프데스크 준비 (2025-11-10 ~ 11-15)
**담당**: 운영팀 헬프데스크
**산출물**: FAQ 스크립트, 스크린샷 자료

#### 작업
- [ ] 헬프데스크 담당자 교육 (30분)
- [ ] MODE_TOGGLE_USAGE_GUIDE.md의 "자주 묻는 질문" 5개 정리
  ```
  Q1: 왜 결과가 다른가?
  Q2: 어느 모드를 사용해야 하나?
  Q3: 모드 선택이 저장되나?
  Q4: 다른 보건소 장비가 나오는 이유?
  Q5: 권한이 없는 장비가 조회되나?
  ```
- [ ] 각 Q&A 대응 스크립트 작성
- [ ] 화면 스크린샷 자료 준비 (6장)
- [ ] 내부 위키에 문서화

#### 헬프데스크 SOP
```
사용자 문의 → 체크리스트 확인 → 답변
  ├─ "왜 다른가?" → FAQ Q1, Q4, Q5 활용
  ├─ "모드 선택이 안 됨" → 캐시 삭제 + 시크릿 모드 권장
  ├─ "기술팀 필요" → truth0530@nmc.or.kr로 에스컬레이션
  └─ 모든 문의 기록 (주간 요약)
```

### 2.4 모니터링 (2025-11-07 지속)
**담당**: 시스템 관리자
**산출물**: Daily verification 로그, 주간 보고서

#### 작업
- [ ] Daily verification 워크플로우 모니터링 시작
  ```bash
  # 매일 09:00 UTC 자동 실행
  # GitHub Actions → verify-mode-logging-daily
  ```
- [ ] PM2 로그 주간 점검 (월요일)
  ```bash
  pm2 logs app --lines 500 | grep "mode:"
  ```
- [ ] 에러 발생 시 기술팀에 즉시 보고
- [ ] 주간 모니터링 리포트 작성

#### 모니터링 체크리스트
```
주간 점검 항목:
- Daily workflow 성공 여부 (7/7 통과 목표)
- PM2 프로세스 상태 (online 유지)
- 에러/경고 로그 (0개 목표)
- 사용자 문의 건수 (추세 파악)
- 성능 지표 (응답 시간 <500ms)
```

### 2.5 피드백 수집 (2025-11-07 지속)
**담당**: 운영팀
**산출물**: 사용자 피드백 요약

#### 작업
- [ ] 교육 후 설문조사 실시
- [ ] 헬프데스크 문의 분석
- [ ] 주간 피드백 요약 (매주 금요일)
- [ ] Phase 3로의 개선 사항 제안

---

## 3. Phase 3: 개발팀 준비 (병렬 진행)

### 3.1 설계 단계 (2025-11-07 ~ 11-14)
**담당**: 개발팀 (기술 리더)
**산출물**: 3개 설계 문서

#### Task A: e-gen 데이터 동기화 설계
**소요 시간**: 3일 (2025-11-07 ~ 11-09)

```
설계 내용:
1. 데이터 소스
   - e-gen API 엔드포인트 확인
   - 데이터 스키마 매핑
   - 필드 변환 로직

2. 동기화 전략
   - 배치 vs 실시간
   - 동기화 빈도 (매일/주 1회/월 1회)
   - 증분 vs 전체 동기화

3. 검증 로직
   - 데이터 무결성 확인
   - 중복 제거 알고리즘
   - 에러 처리 및 롤백

4. 성능 고려사항
   - 81,331개 AED 처리 시간 목표
   - 동기화 중 가용성 (zero-downtime)
   - 저장소 용량 관리

5. 모니터링
   - 동기화 성공/실패 알림
   - 데이터 품질 지표
   - 로깅 및 감사

산출물: EDGEN_SYNC_DESIGN.md
```

#### Task B: 사진 스토리지 마이그레이션 기획
**소요 시간**: 3일 (2025-11-07 ~ 11-09)

```
기획 내용:
1. 현황 분석
   - Supabase Storage의 기존 사진 개수
   - 용량 및 대역폭 비용
   - 현재 API 구조

2. NCP Object Storage 설계
   - 버킷 구조 (예: aedpics-inspections/2025-11/)
   - 접근 제어 (public vs private)
   - CDN 연동 여부

3. 마이그레이션 전략
   - 기존 사진 마이그레이션 (일괄 처리)
   - 새 사진은 NCP에 저장 (즉시 전환)
   - 병렬 운영 기간 (1주일)

4. API 변경
   - 업로드 엔드포인트 수정
   - 다운로드/썸네일 경로 변경
   - 백업 전략

5. 비용 분석
   - Supabase 비용 절감액
   - NCP 비용 예상
   - ROI 계산

산출물: STORAGE_MIGRATION_PLAN.md
```

#### Task C: 점검 통계 대시보드 요구사항 정의
**소요 시간**: 5일 (2025-11-10 ~ 11-14)

```
요구사항 정의:
1. 필수 통계 지표 (협의 필요)
   - 지역별 점검 완료율
   - 장비 상태 분포 (정상/이상/점검 필요)
   - 시간대별 점검 현황
   - 보건소별 성과 랭킹

2. 시각화 방식
   - 지도 기반 (카카오맵)
   - 차트 (막대/선/원형)
   - 테이블 (정렬/필터 가능)
   - 실시간 vs 일일 집계

3. 접근 권한
   - Master: 전국 데이터
   - Regional Admin: 시도별 데이터
   - Local Admin: 자신의 관할 데이터

4. 성능 요구사항
   - 페이지 로딩: <3초
   - 데이터 갱신: 1일 1회 또는 실시간?
   - 데이터 양: 81,331개 AED 처리

5. 구현 방식
   - Prisma aggregation vs 배치 계산?
   - 캐싱 전략?
   - 데이터베이스 인덱스 필요 여부?

산출물: STATISTICS_DASHBOARD_SPEC.md
```

### 3.2 개발 환경 준비 (2025-11-14 ~ 11-21)
**담당**: 개발팀
**산출물**: 개발 시작 가능 상태

#### Task A: e-gen API 연동
```
예상 작업:
1. e-gen API 문서 확보
2. API 클라이언트 코드 작성 (lib/edgen/)
3. 배치 스크립트 작성 (scripts/sync-edgen-data.ts)
4. 테스트 및 검증
```

#### Task B: Storage Migration 개발 시작
```
예상 작업:
1. NCP Object Storage SDK 설치
2. photo-upload.ts 마이그레이션 (Supabase → NCP)
3. 기존 사진 마이그레이션 스크립트
4. API 엔드포인트 수정
```

#### Task C: Statistics Dashboard 개발 시작
```
예상 작업:
1. DB 쿼리 최적화 (집계용 뷰/인덱스)
2. API 엔드포인트 설계 (/api/statistics)
3. React 컴포넌트 작성 (대시보드 UI)
4. 카카오맵 시각화 통합
```

---

## 4. 일정 타임라인

### Week 1: 2025-11-07 ~ 2025-11-13

**Phase 2 (운영팀)**
- Mon 11-07: 문서 배포 완료 (PDF 생성 + 이메일 발송)
- Tue 11-08: 보건소 포털 게시
- Wed 11-09: 교육 자료 준비 완료
- Thu 11-10: 라이브 교육 실시 (14:00 KST)
- Fri 11-11: 헬프데스크 교육 + 피드백 1차 수집

**Phase 3 (개발팀)**
- Mon 11-07: e-gen 설계 시작
- Tue 11-08: Storage 설계 시작
- Wed 11-09: 두 설계 문서 완성
- Thu 11-10: Statistics 스펙 정의 시작
- Fri 11-11: 3개 설계 문서 검토 회의

### Week 2: 2025-11-14 ~ 2025-11-21

**Phase 2 (운영팀)**
- Mon 11-14: 교육 녹화 영상 편집 + YouTube 게시
- Wed 11-16: 주간 모니터링 리포트 작성
- Fri 11-18: 피드백 2차 수집 + 정리
- Daily: PM2 로그 모니터링

**Phase 3 (개발팀)**
- Mon 11-14: e-gen API 연동 코드 작성 시작
- Wed 11-16: Storage 마이그레이션 개발 시작
- Fri 11-18: Statistics API 설계 완료
- Sun 11-21: Phase 3 정식 승인 대기

---

## 5. 성공 지표 (2주 후 평가)

### Phase 2 성공 지표
```
운영팀 달성 목표:
- 문서 배포율: 100% (모든 보건소)
- 교육 참여율: 60% 이상 (150명+)
- 교육 만족도: 4점 이상 (5점 만점)
- 헬프데스크 준비: FAQ 5개 + 스크린샷 6장 완성
- Daily verification: 7/7 성공 (에러 0)
- 사용자 문의: 월별 추세 파악 완료
```

### Phase 3 준비 성공 지표
```
개발팀 달성 목표:
- 설계 문서: 3개 완성 (e-gen, Storage, Statistics)
- 설계 리뷰: 기술팀 + 운영팀 합의
- 개발 환경: 로컬 개발 가능 상태
- 예상 개발 일정: 3주 (2025-11-24 ~ 2025-12-14)
- Phase 3 정식 승인: 2025-11-21
```

---

## 6. 리스크 관리

### Risk 1: Phase 2 모니터링 중 심각한 버그 발견
```
영향: High (사용자 서비스 중단)
확률: Low
대응:
  - 긴급 핫픽스 팀 구성
  - Phase 3 개발 일정 연기
  - 우선순위: Phase 2 안정화
```

### Risk 2: e-gen API 연동 복잡도 높음
```
영향: Medium (일정 지연)
확률: Medium
대응:
  - e-gen 담당자와 조기 협의 (Week 1)
  - API 문서 사전 확보
  - Mock API로 개발 진행 가능
```

### Risk 3: 스토리지 마이그레이션 중 데이터 손실
```
영향: High (데이터 손실)
확률: Low
대응:
  - 마이그레이션 전 전체 백업
  - 병렬 운영 기간 충분히 확보
  - 롤백 계획 수립
```

### Risk 4: 교육 참여도 낮음
```
영향: Medium (운영 부담)
확률: Medium
대응:
  - 녹화 영상 사전 제공
  - 비동기식 학습 자료 제공
  - 추가 교육 세션 준비
```

---

## 7. 각 팀의 일일 스크럼 (병렬 진행)

### Phase 2 팀 (운영팀)
**시간**: 매일 08:00 KST (선택사항)
**의제**:
- 어제 완료 사항
- 오늘 계획
- 이슈/블로커

### Phase 3 팀 (개발팀)
**시간**: 매일 10:00 KST (필수)
**의제**:
- 어제 진행률
- 오늘 계획
- 기술적 이슈

### 통합 회의 (양팀)
**시간**: 매주 금요일 16:00 KST
**의제**:
- Phase 2 진행 현황
- Phase 3 설계 검토
- 병렬 진행 중 발생한 이슈
- 다음주 계획 확정

---

## 8. 커뮤니케이션 채널

| 채널 | 목적 | 참여자 |
|------|------|--------|
| Slack #phase2-ops | Phase 2 운영 업무 | 운영팀 |
| Slack #phase3-dev | Phase 3 기술 이슈 | 개발팀 |
| Slack #aedpics-general | 전사 알림 | 모두 |
| GitHub Issues | 기술 이슈 추적 | 개발팀 |
| Weekly Sync | 양팀 통합 | 리더 레벨 |

---

## 9. 단계별 체크포인트

### Checkpoint 1: 2025-11-10 (3일 후)
- Phase 2: 문서 배포 + 교육 자료 준비 완료
- Phase 3: e-gen, Storage 설계 완성
- 상태: 정상 진행 중 확인

### Checkpoint 2: 2025-11-14 (1주일 후)
- Phase 2: 라이브 교육 완료 + 피드백 1차 수집
- Phase 3: 3개 설계 문서 검토 + 개발 준비
- 결정: Phase 3 정식 승인 여부 판단

### Checkpoint 3: 2025-11-21 (2주일 후)
- Phase 2: 모니터링 안정화 확인 (7일 데이터)
- Phase 3: 개발 시작 준비 완료
- 결정: Phase 3 개발 정식 시작 (또는 지연)

---

## 10. Phase 3 개발 일정 (예상)

**가정**: Phase 2 모니터링 2주일 경과 후 정상 진행 확인

```
Phase 3 개발 일정:
- Week 1 (11-24 ~ 11-30): e-gen 동기화 + 기본 테스트
- Week 2 (12-01 ~ 12-07): Storage 마이그레이션 + 기존 데이터 마이그레이션
- Week 3 (12-08 ~ 12-14): Statistics 대시보드 개발 + 통합 테스트
- Week 4 (12-15 ~ 12-21): 최종 QA + 버그 수정
- 프로덕션 배포: 2025-12-22 (예상)
```

---

## 11. 성공 사례 (Best Practices)

### Phase 2 운영 인수인계의 핵심
1. **문서는 가능한 빨리 배포** - 사용자는 길을 잃고 있을 수 있음
2. **교육은 선택이 아닌 필수** - 화상 + 녹화 + 자료 제공 (3중 전략)
3. **헬프데스크는 사전에 교육** - 사용자 문의 줄일 수 있음
4. **모니터링은 자동화** - 일일 검증 워크플로우가 신뢰성 확보

### Phase 3 준비의 핵심
1. **설계에 충분한 시간 투자** - 개발 시간 50% 단축 가능
2. **협의와 합의** - e-gen 팀, 운영팀과 조기 협의
3. **기술적 위험 조기 파악** - Week 1의 설계 검토가 핵심
4. **개발 준비 자동화** - 로컬 개발 환경 자동 구성 스크립트

---

## 최종 목표

**2주 후 (2025-11-21)**:
- Phase 2: 안정적으로 운영팀에 인수인계 완료
- Phase 3: 정식 개발 시작 준비 완료
- 프로덕션: 모드 토글 기능 안정화 + 모니터링 자동화

**3주 후 (2025-12-22)**: Phase 3 프로덕션 배포

---

**문서 버전**: 1.0.0
**작성일**: 2025-11-07
**담당**: 기술 리더 (병렬 조율)
**다음 리뷰**: 2025-11-10 (3일 후)

